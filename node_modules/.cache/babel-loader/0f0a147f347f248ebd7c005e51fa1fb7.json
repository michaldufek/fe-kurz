{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js!/home/dufek/Documents/gitlab/frs-apps/src/custom/assets/js/auth.js","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/custom/assets/js/auth.js","mtime":1587030366018},{"path":"/home/dufek/Documents/gitlab/frs-apps/.babelrc","mtime":1576496397055},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcucHJvbWlzZS5maW5hbGx5IjsKCi8qIGdsb2JhbHMgbG9jYWxTdG9yYWdlICovCmltcG9ydCBheGlvcyBmcm9tICdALy4uL25vZGVfbW9kdWxlcy9heGlvcyc7CmltcG9ydCBpMThuIGZyb20gIkAvaTE4biI7CmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7CmltcG9ydCBjb25zdGFudHMgZnJvbSAnQC9jdXN0b20vYXNzZXRzL2pzL2NvbnN0YW50cyc7Cgp2YXIgbG9naW5Sb3V0aW5lID0gZnVuY3Rpb24gbG9naW5Sb3V0aW5lKGVtYWlsLCBwYXNzKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGF4aW9zKHsKICAgICAgdXJsOiBjb25zdGFudHMudXJscy5hdXRoICsgJy9sb2dpbi8nLAogICAgICBkYXRhOiB7CiAgICAgICAgImVtYWlsIjogZW1haWwsCiAgICAgICAgInBhc3N3b3JkIjogcGFzcwogICAgICB9LAogICAgICBtZXRob2Q6ICdQT1NUJwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEua2V5OwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7IC8vIHN0b3JlIHRoZSB0b2tlbiBpbiBsb2NhbHN0b3JhZ2UKCiAgICAgIHJlc29sdmUocmVzcCk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOyAvLyBpZiB0aGUgcmVxdWVzdCBmYWlscywgcmVtb3ZlIGFueSBwb3NzaWJsZSB1c2VyIHRva2VuIGlmIHBvc3NpYmxlCgogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9OwoKdmFyIGxvZ2luRmFjZWJvb2tSb3V0aW5lID0gZnVuY3Rpb24gbG9naW5GYWNlYm9va1JvdXRpbmUodG9rZW4sIGNvZGUpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MoewogICAgICB1cmw6IGNvbnN0YW50cy51cmxzLmF1dGggKyAnL2ZhY2Vib29rLycsCiAgICAgIGRhdGE6IHsKICAgICAgICAiYWNjZXNzX3Rva2VuIjogdG9rZW4sCiAgICAgICAgImNvZGUiOiBjb2RlCiAgICAgIH0sCiAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHZhciB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbjsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pOyAvLyBzdG9yZSB0aGUgdG9rZW4gaW4gbG9jYWxzdG9yYWdlCgogICAgICByZXNvbHZlKHJlc3ApOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTsgLy8gaWYgdGhlIHJlcXVlc3QgZmFpbHMsIHJlbW92ZSBhbnkgcG9zc2libGUgdXNlciB0b2tlbiBpZiBwb3NzaWJsZQoKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfTsKCnZhciBsb2dpblR3aXR0ZXJSb3V0aW5lID0gZnVuY3Rpb24gbG9naW5Ud2l0dGVyUm91dGluZSh0b2tlbiwgc2VjcmV0KSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGF4aW9zKHsKICAgICAgdXJsOiBjb25zdGFudHMudXJscy5hdXRoICsgJy90d2l0dGVyLycsCiAgICAgIGRhdGE6IHsKICAgICAgICAiYWNjZXNzX3Rva2VuIjogdG9rZW4sCiAgICAgICAgInRva2VuX3NlY3JldCI6IHNlY3JldAogICAgICB9LAogICAgICBtZXRob2Q6ICdQT1NUJwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICB2YXIgdG9rZW4gPSByZXNwLmRhdGEudG9rZW47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTsgLy8gc3RvcmUgdGhlIHRva2VuIGluIGxvY2Fsc3RvcmFnZQoKICAgICAgcmVzb2x2ZShyZXNwKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7IC8vIGlmIHRoZSByZXF1ZXN0IGZhaWxzLCByZW1vdmUgYW55IHBvc3NpYmxlIHVzZXIgdG9rZW4gaWYgcG9zc2libGUKCiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn07Cgp2YXIgbG9nb3V0Um91dGluZSA9IGZ1bmN0aW9uIGxvZ291dFJvdXRpbmUoKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgYXhpb3MoewogICAgICB1cmw6IGNvbnN0YW50cy51cmxzLmF1dGggKyAnL2xvZ291dC8nLAogICAgICBtZXRob2Q6ICdQT1NUJwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICByZXNvbHZlKHJlc3ApOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9OwoKdmFyIHJlc2V0UGFzc1JvdXRpbmUgPSBmdW5jdGlvbiByZXNldFBhc3NSb3V0aW5lKGVtYWlsKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIGF4aW9zKHsKICAgICAgdXJsOiBjb25zdGFudHMudXJscy5hdXRoICsgJy9wYXNzd29yZC9yZXNldC8nLAogICAgICBkYXRhOiB7CiAgICAgICAgImVtYWlsIjogZW1haWwKICAgICAgfSwKICAgICAgbWV0aG9kOiAnUE9TVCcKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgcmVzb2x2ZShyZXNwKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfTsKCnZhciByZWdpc3RlclJvdXRpbmUgPSBmdW5jdGlvbiByZWdpc3RlclJvdXRpbmUoZW1haWwsIHBhc3MxLCBwYXNzMikgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcyh7CiAgICAgIHVybDogY29uc3RhbnRzLnVybHMuYXV0aCArICcvcmVnaXN0cmF0aW9uLycsCiAgICAgIGRhdGE6IHsKICAgICAgICAiZW1haWwiOiBlbWFpbCwKICAgICAgICAicGFzc3dvcmQxIjogcGFzczEsCiAgICAgICAgInBhc3N3b3JkMiI6IHBhc3MyCiAgICAgIH0sCiAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHJlc29sdmUocmVzcCk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn07Cgp2YXIgdmVyaWZ5UmVnaXN0ZXJSb3V0aW5lID0gZnVuY3Rpb24gdmVyaWZ5UmVnaXN0ZXJSb3V0aW5lKGtleSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICBheGlvcyh7CiAgICAgIHVybDogY29uc3RhbnRzLnVybHMuYXV0aCArICcvcmVnaXN0cmF0aW9uL3ZlcmlmeS1lbWFpbC8nLAogICAgICBkYXRhOiB7CiAgICAgICAgImtleSI6IGtleQogICAgICB9LAogICAgICBtZXRob2Q6ICdQT1NUJwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICByZXNvbHZlKHJlc3ApOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICByZWplY3QoZXJyKTsKICAgIH0pOwogIH0pOwp9OwoKdmFyIHZlcmlmeVJlc2V0Um91dGluZSA9IGZ1bmN0aW9uIHZlcmlmeVJlc2V0Um91dGluZSh1aWQsIHRva2VuLCBwYXNzMSwgcGFzczIpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgYXhpb3MoewogICAgICB1cmw6IGNvbnN0YW50cy51cmxzLmF1dGggKyAnL3Bhc3N3b3JkL3Jlc2V0L2NvbmZpcm0vJywKICAgICAgZGF0YTogewogICAgICAgICJuZXdfcGFzc3dvcmQxIjogcGFzczEsCiAgICAgICAgIm5ld19wYXNzd29yZDIiOiBwYXNzMiwKICAgICAgICAidWlkIjogdWlkLAogICAgICAgICJ0b2tlbiI6IHRva2VuCiAgICAgIH0sCiAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHJlc29sdmUocmVzcCk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgc2V0Q1NSRlRva2VuOiBmdW5jdGlvbiBzZXRDU1JGVG9rZW4oKSB7CiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykgewogICAgICB2YXIgY29raWVOYW1lID0gJ2NzcmZ0b2tlbic7CiAgICB9IGVsc2UgewogICAgICBjb2tpZU5hbWUgPSAnX3hzcmYnOwogICAgfQoKICAgIHZhciBjc3JmVG9rZW4gPSBDb29raWVzLmdldChjb2tpZU5hbWUpOwogICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb24gPSB7CiAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgJ1gtQ1NSRlRva2VuJzogY3NyZlRva2VuCiAgICB9OwogIH0sCiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGVtYWlsLCBwYXNzLCBjYiwgY2JmKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGNiZiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07CiAgICBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMl07CgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwogICAgICB0aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgcGFzcyA9PT0gJ2Zyc3Bhc3MnKSB7CiAgICAgIHByZXRlbmRSZXF1ZXN0KGVtYWlsLCBwYXNzLCBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5hdXRoZW50aWNhdGVkKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UudG9rZW4gPSByZXMudG9rZW47CiAgICAgICAgICBpZiAoY2IpIGNiKHRydWUpOwoKICAgICAgICAgIF90aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoY2IpIGNiKGZhbHNlKTsKCiAgICAgICAgICBfdGhpcy5vbkNoYW5nZShmYWxzZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGxvZ2luUm91dGluZShlbWFpbCwgcGFzcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNiKSBjYih0cnVlKTsKCiAgICAgICAgX3RoaXMub25DaGFuZ2UodHJ1ZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBpZiAoY2IpIGNiKGZhbHNlLCBfdGhpcy5wYXJzZUVycm9yKGVycikpOwoKICAgICAgICBfdGhpcy5vbkNoYW5nZShmYWxzZSk7CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBjYmYoKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBsb2dpbkZhY2Vib29rOiBmdW5jdGlvbiBsb2dpbkZhY2Vib29rKGNiKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07CgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwogICAgICB0aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHRva2VuID0gJyc7CiAgICB2YXIgY29kZSA9ICcnOyAvLyB0by1kbzogZ2V0IHRva2VuIGFuZCBjb2RlCgogICAgbG9naW5GYWNlYm9va1JvdXRpbmUodG9rZW4sIGNvZGUpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwoKICAgICAgX3RoaXMyLm9uQ2hhbmdlKHRydWUpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBpZiAoY2IpIGNiKGZhbHNlLCBfdGhpczIucGFyc2VFcnJvcihlcnIpKTsKCiAgICAgIF90aGlzMi5vbkNoYW5nZShmYWxzZSk7CiAgICB9KTsKICB9LAogIGxvZ2luVHdpdHRlcjogZnVuY3Rpb24gbG9naW5Ud2l0dGVyKGNiKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07CgogICAgaWYgKGxvY2FsU3RvcmFnZS50b2tlbikgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwogICAgICB0aGlzLm9uQ2hhbmdlKHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHRva2VuID0gJyc7CiAgICB2YXIgc2VjcmV0ID0gJyc7IC8vIHRvLWRvOiBnZXQgdG9rZW4gYW5kIHNlY3JldAoKICAgIGxvZ2luVHdpdHRlclJvdXRpbmUodG9rZW4sIHNlY3JldCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChjYikgY2IodHJ1ZSk7CgogICAgICBfdGhpczMub25DaGFuZ2UodHJ1ZSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGlmIChjYikgY2IoZmFsc2UsIF90aGlzMy5wYXJzZUVycm9yKGVycikpOwoKICAgICAgX3RoaXMzLm9uQ2hhbmdlKGZhbHNlKTsKICAgIH0pOwogIH0sCiAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKCkgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS50b2tlbjsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KGNiKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICBjYiA9IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV07CgogICAgaWYgKHRoaXMubG9nZ2VkSW4oKSkgewogICAgICBsb2dvdXRSb3V0aW5lKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNiKSBjYigpOwoKICAgICAgICBfdGhpczQub25DaGFuZ2UodHJ1ZSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgcmV0dXJuICEhbG9jYWxTdG9yYWdlLnRva2VuOwogIH0sCiAgcmVzZXRQYXNzOiBmdW5jdGlvbiByZXNldFBhc3MoZW1haWwsIGNiLCBjYmYpIHsKICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgIHJlc2V0UGFzc1JvdXRpbmUoZW1haWwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAoY2IpIGNiKHRydWUsIHJlcy5kYXRhLmRldGFpbCk7CgogICAgICBfdGhpczUub25DaGFuZ2UodHJ1ZSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGlmIChjYikgY2IoZmFsc2UsIF90aGlzNS5wYXJzZUVycm9yKGVyciwgZmFsc2UpKTsKCiAgICAgIF90aGlzNS5vbkNoYW5nZShmYWxzZSk7CiAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNiZigpOwogICAgfSk7CiAgfSwKICB2ZXJpZnlSZXNldDogZnVuY3Rpb24gdmVyaWZ5UmVzZXQodWlkLCB0b2tlbiwgcGFzczEsIHBhc3MyLCBjYiwgY2JmKSB7CiAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICBjYmYgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdOwogICAgY2IgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdOwogICAgdmVyaWZ5UmVzZXRSb3V0aW5lKHVpZCwgdG9rZW4sIHBhc3MxLCBwYXNzMikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGlmIChjYikgY2IodHJ1ZSwgcmVzLmRhdGEuZGV0YWlsKTsKCiAgICAgIF90aGlzNi5vbkNoYW5nZSh0cnVlKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgaWYgKGNiKSBjYihmYWxzZSwgX3RoaXM2LnBhcnNlRXJyb3IoZXJyLCBmYWxzZSkpOwoKICAgICAgX3RoaXM2Lm9uQ2hhbmdlKGZhbHNlKTsKICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gY2JmKCk7CiAgICB9KTsKICB9LAogIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihlbWFpbCwgcGFzczEsIHBhc3MyLCBjYiwgY2JmKSB7CiAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICBjYmYgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdOwogICAgY2IgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdOwogICAgcmVnaXN0ZXJSb3V0aW5lKGVtYWlsLCBwYXNzMSwgcGFzczIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAoY2IpIGNiKHRydWUsIGkxOG4udCgnbG9naW4ucmVnaXN0cmF0aW9uU2VudCcpKTsKCiAgICAgIF90aGlzNy5vbkNoYW5nZSh0cnVlKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgaWYgKGNiKSBjYihmYWxzZSwgX3RoaXM3LnBhcnNlRXJyb3IoZXJyKSk7CgogICAgICBfdGhpczcub25DaGFuZ2UoZmFsc2UpOwogICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBjYmYoKTsKICAgIH0pOwogIH0sCiAgdmVyaWZ5UmVnaXN0ZXI6IGZ1bmN0aW9uIHZlcmlmeVJlZ2lzdGVyKGtleSwgY2IsIGNiZikgewogICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgY2JmID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTsKICAgIGNiID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAyXTsKICAgIHZlcmlmeVJlZ2lzdGVyUm91dGluZShrZXkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAoY2IpIGNiKHRydWUpOwoKICAgICAgX3RoaXM4Lm9uQ2hhbmdlKHRydWUpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBpZiAoY2IpIGNiKGZhbHNlKTsKCiAgICAgIF90aGlzOC5vbkNoYW5nZShmYWxzZSk7CiAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGNiZigpOwogICAgfSk7CiAgfSwKICBwYXJzZUVycm9yOiBmdW5jdGlvbiBwYXJzZUVycm9yKGVycikgewogICAgdmFyIHZlcmJvc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICB2YXIgbXNnID0gJyc7CgogICAgaWYgKCJlbWFpbCIgaW4gZXJyLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgaWYgKHZlcmJvc2UpIHsKICAgICAgICBtc2cgKz0gaTE4bi50KCdsb2dpbi5lbWFpbCcpICsgJzogJzsKICAgICAgfQoKICAgICAgbXNnICs9IGVyci5yZXNwb25zZS5kYXRhLmVtYWlsWzBdICsgJ1xuJzsKICAgIH0KCiAgICBpZiAoInBhc3N3b3JkIiBpbiBlcnIucmVzcG9uc2UuZGF0YSkgewogICAgICBpZiAodmVyYm9zZSkgewogICAgICAgIG1zZyArPSBpMThuLnQoJ2xvZ2luLnBhc3N3b3JkJykgKyAnOiAnOwogICAgICB9CgogICAgICBtc2cgKz0gZXJyLnJlc3BvbnNlLmRhdGEucGFzc3dvcmRbMF0gKyAnXG4nOwogICAgfQoKICAgIGlmICgicGFzc3dvcmQxIiBpbiBlcnIucmVzcG9uc2UuZGF0YSkgewogICAgICBpZiAodmVyYm9zZSkgewogICAgICAgIG1zZyArPSBpMThuLnQoJ2xvZ2luLnBhc3N3b3JkJykgKyAnOiAnOwogICAgICB9CgogICAgICBtc2cgKz0gZXJyLnJlc3BvbnNlLmRhdGEucGFzc3dvcmQxWzBdICsgJ1xuJzsKICAgIH0KCiAgICBpZiAoInBhc3N3b3JkMiIgaW4gZXJyLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgaWYgKHZlcmJvc2UpIHsKICAgICAgICBtc2cgKz0gaTE4bi50KCdsb2dpbi5wYXNzd29yZEFnYWluJykgKyAnOiAnOwogICAgICB9CgogICAgICBtc2cgKz0gZXJyLnJlc3BvbnNlLmRhdGEucGFzc3dvcmQyWzBdICsgJ1xuJzsKICAgIH0KCiAgICBpZiAoIm5ld19wYXNzd29yZDEiIGluIGVyci5yZXNwb25zZS5kYXRhKSB7CiAgICAgIGlmICh2ZXJib3NlKSB7CiAgICAgICAgbXNnICs9IGkxOG4udCgnbG9naW4ucGFzc3dvcmQnKSArICc6ICc7CiAgICAgIH0KCiAgICAgIG1zZyArPSBlcnIucmVzcG9uc2UuZGF0YS5uZXdfcGFzc3dvcmQxWzBdICsgJ1xuJzsKICAgIH0KCiAgICBpZiAoIm5ld19wYXNzd29yZDIiIGluIGVyci5yZXNwb25zZS5kYXRhKSB7CiAgICAgIGlmICh2ZXJib3NlKSB7CiAgICAgICAgbXNnICs9IGkxOG4udCgnbG9naW4ucGFzc3dvcmRBZ2FpbicpICsgJzogJzsKICAgICAgfQoKICAgICAgbXNnICs9IGVyci5yZXNwb25zZS5kYXRhLm5ld19wYXNzd29yZDJbMF0gKyAnXG4nOwogICAgfQoKICAgIGlmICgibm9uX2ZpZWxkX2Vycm9ycyIgaW4gZXJyLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgbXNnICs9IGVyci5yZXNwb25zZS5kYXRhLm5vbl9maWVsZF9lcnJvcnNbMF0gKyAnXG4nOwogICAgfQoKICAgIGlmICghbXNnKSB7CiAgICAgIG1zZyArPSBpMThuLnQoJ2xvZ2luLnVua25vd25FcnJvcicpOwogICAgfQoKICAgIHJldHVybiBtc2c7CiAgfSwKICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7fQp9OwoKZnVuY3Rpb24gcHJldGVuZFJlcXVlc3QoZW1haWwsIHBhc3MsIGNiKSB7CiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICBjYih7CiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsCiAgICAgIHRva2VuOiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykKICAgIH0pOwogIH0sIDApOwp9"},{"version":3,"sources":["/home/dufek/Documents/gitlab/frs-apps/src/custom/assets/js/auth.js"],"names":["axios","i18n","Cookies","constants","loginRoutine","email","pass","Promise","resolve","reject","url","urls","auth","data","method","then","resp","token","key","localStorage","setItem","catch","err","removeItem","loginFacebookRoutine","code","loginTwitterRoutine","secret","logoutRoutine","resetPassRoutine","registerRoutine","pass1","pass2","verifyRegisterRoutine","verifyResetRoutine","uid","setCSRFToken","process","env","NODE_ENV","cokieName","csrfToken","get","defaults","headers","common","login","cb","cbf","arguments","length","onChange","pretendRequest","res","authenticated","parseError","finally","loginFacebook","loginTwitter","getToken","logout","loggedIn","resetPass","detail","verifyReset","register","t","verifyRegister","verbose","msg","response","password","password1","password2","new_password1","new_password2","non_field_errors","setTimeout","Math","random","toString","substring"],"mappings":"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","sourcesContent":["/* globals localStorage */\nimport axios from '@/../node_modules/axios';\nimport i18n from \"@/i18n\"\nimport Cookies from 'js-cookie'\nimport constants from '@/custom/assets/js/constants';\n\n\nconst loginRoutine = (email, pass) => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/login/', data: { \"email\": email, \"password\": pass }, method: 'POST' })\n  .then(resp => {\n    const token = resp.data.key\n    localStorage.setItem('token', token) // store the token in localstorage\n    resolve(resp)\n  })\n  .catch(err => {\n    localStorage.removeItem('token') // if the request fails, remove any possible user token if possible\n    reject(err)\n  })\n});\n\nconst loginFacebookRoutine = (token, code) => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/facebook/', data: { \"access_token\": token, \"code\": code }, method: 'POST' })\n  .then(resp => {\n    const token = resp.data.token\n    localStorage.setItem('token', token) // store the token in localstorage\n    resolve(resp)\n  })\n  .catch(err => {\n    localStorage.removeItem('token') // if the request fails, remove any possible user token if possible\n    reject(err)\n  })\n});\n\nconst loginTwitterRoutine = (token, secret) => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/twitter/', data: { \"access_token\": token, \"token_secret\": secret }, method: 'POST' })\n  .then(resp => {\n    const token = resp.data.token\n    localStorage.setItem('token', token) // store the token in localstorage\n    resolve(resp)\n  })\n  .catch(err => {\n    localStorage.removeItem('token') // if the request fails, remove any possible user token if possible\n    reject(err)\n  })\n});\n\nconst logoutRoutine = () => new Promise ((resolve, reject) => {\n  localStorage.removeItem('token')\n\n  axios({url: constants.urls.auth + '/logout/', method: 'POST' })\n  .then(resp => {\n    resolve(resp)\n  })\n  .catch(err => {\n    reject(err)\n  })\n});\n\nconst resetPassRoutine = email => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/password/reset/', data: { \"email\": email }, method: 'POST' })\n  .then(resp => {\n    resolve(resp)\n  })\n  .catch(err => {\n    reject(err)\n  })\n});\n\nconst registerRoutine = (email, pass1, pass2) => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/registration/', data: { \"email\": email, \"password1\": pass1, \"password2\": pass2 }, method: 'POST' })\n  .then(resp => {\n    resolve(resp)\n  })\n  .catch(err => {\n    reject(err)\n  })\n});\n\nconst verifyRegisterRoutine = key => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/registration/verify-email/', data: { \"key\": key }, method: 'POST' })\n  .then(resp => {\n    resolve(resp)\n  })\n  .catch(err => {\n    reject(err)\n  })\n});\n\nconst verifyResetRoutine = (uid, token, pass1, pass2) => new Promise ((resolve, reject) => {\n  axios({url: constants.urls.auth + '/password/reset/confirm/', data: { \"new_password1\": pass1, \"new_password2\": pass2, \"uid\": uid, \"token\": token }, method: 'POST' })\n  .then(resp => {\n    resolve(resp)\n  })\n  .catch(err => {\n    reject(err)\n  })\n});\n\n\nexport default {  \n    setCSRFToken() {\n      if (process.env.NODE_ENV === 'production') {\n        var cokieName = 'csrftoken'\n      } else {\n        cokieName = '_xsrf'\n      }\n\n      let csrfToken = Cookies.get(cokieName)        \n      axios.defaults.headers.common = {\n        'X-Requested-With': 'XMLHttpRequest',\n        'X-CSRFToken': csrfToken\n      }\n    },\n  \n    login (email, pass, cb, cbf) {\n      cbf = arguments[arguments.length - 1]\n      cb = arguments[arguments.length - 2]\n      if (localStorage.token) {\n        if (cb) cb(true)\n        this.onChange(true)\n        return\n      }\n      \n      if (process.env.NODE_ENV !== 'production' && pass === 'frspass') {\n        pretendRequest(email, pass, (res) => {\n          if (res.authenticated) {\n            localStorage.token = res.token\n            if (cb) cb(true)\n            this.onChange(true)\n          } else {\n            if (cb) cb(false)\n            this.onChange(false)\n          }\n        })\n      } else {\n        loginRoutine(email, pass)\n        .then(() => {\n          if (cb) cb(true)\n          this.onChange(true)\n        })\n        .catch(err => {        \n          if (cb) cb(false, this.parseError(err))\n          this.onChange(false)        \n        })\n        .finally(() => cbf())\n      }\n    },\n\n    loginFacebook (cb) {\n      cb = arguments[arguments.length - 1]\n      if (localStorage.token) {\n        if (cb) cb(true)\n        this.onChange(true)\n        return\n      }\n\n      let token = ''\n      let code = ''    \n      // to-do: get token and code\n      loginFacebookRoutine(token, code)\n      .then(() => {\n        if (cb) cb(true)\n        this.onChange(true)\n      })\n      .catch(err => {        \n        if (cb) cb(false, this.parseError(err))\n        this.onChange(false)        \n      })\n    },\n\n    loginTwitter (cb) {\n      cb = arguments[arguments.length - 1]\n      if (localStorage.token) {\n        if (cb) cb(true)\n        this.onChange(true)\n        return\n      }\n\n      let token = ''\n      let secret = ''\n      // to-do: get token and secret\n      loginTwitterRoutine(token, secret)\n      .then(() => {\n        if (cb) cb(true)\n        this.onChange(true)\n      })\n      .catch(err => {        \n        if (cb) cb(false, this.parseError(err))\n        this.onChange(false)        \n      })\n    },\n  \n    getToken () {\n      return localStorage.token\n    },\n  \n    logout (cb) {\n      cb = arguments[arguments.length - 1]\n      if (this.loggedIn()) {\n        logoutRoutine()\n        .then(() => {\n          if (cb) cb()\n          this.onChange(true)\n        })\n      }\n    },\n  \n    loggedIn () {\n      return !!localStorage.token\n    },\n\n    resetPass (email, cb, cbf) {\n      resetPassRoutine(email)\n      .then(res => {\n        if (cb) cb(true, res.data.detail)\n        this.onChange(true)\n      })\n      .catch(err => {\n        if (cb) cb(false, this.parseError(err, false))\n        this.onChange(false)        \n      })\n      .finally(() => cbf())\n    },\n\n    verifyReset (uid, token, pass1, pass2, cb, cbf) {\n      cbf = arguments[arguments.length - 1]\n      cb = arguments[arguments.length - 2]\n      verifyResetRoutine(uid, token, pass1, pass2)\n      .then(res => {\n        if (cb) cb(true, res.data.detail)\n        this.onChange(true)\n      })\n      .catch(err => {\n        if (cb) cb(false, this.parseError(err, false))\n        this.onChange(false)        \n      })\n      .finally(() => cbf())\n    },\n\n    register (email, pass1, pass2, cb, cbf) {\n      cbf = arguments[arguments.length - 1]\n      cb = arguments[arguments.length - 2]\n      registerRoutine(email, pass1, pass2)\n      .then(res => {\n        if (cb) cb(true, i18n.t('login.registrationSent'))\n        this.onChange(true)\n      })\n      .catch(err => {\n        if (cb) cb(false, this.parseError(err))\n        this.onChange(false)        \n      })\n      .finally(() => cbf())\n    },\n\n    verifyRegister (key, cb, cbf) {\n      cbf = arguments[arguments.length - 1]\n      cb = arguments[arguments.length - 2]\n      verifyRegisterRoutine(key)\n      .then(res => {\n        if (cb) cb(true)\n        this.onChange(true)\n      })\n      .catch(err => {\n        if (cb) cb(false)\n        this.onChange(false)        \n      })\n      .finally(() => cbf())\n    },\n\n    parseError(err, verbose=true) {\n      let msg = ''\n\n      if (\"email\" in err.response.data) {\n        if (verbose) {\n          msg += i18n.t('login.email') + ': ' \n        }\n        msg += err.response.data.email[0] + '\\n'\n      }\n      if (\"password\" in err.response.data) {\n        if (verbose) {\n          msg += i18n.t('login.password') + ': ' \n        }\n        msg += err.response.data.password[0] + '\\n'\n      }\n      if (\"password1\" in err.response.data) {\n        if (verbose) {\n          msg += i18n.t('login.password') + ': ' \n        }\n        msg += err.response.data.password1[0] + '\\n'\n      }\n      if (\"password2\" in err.response.data) {\n        if (verbose) {\n          msg += i18n.t('login.passwordAgain') + ': ' \n        }\n        msg += err.response.data.password2[0] + '\\n'\n      }\n      if (\"new_password1\" in err.response.data) {\n        if (verbose) {\n          msg += i18n.t('login.password') + ': ' \n        }\n        msg += err.response.data.new_password1[0] + '\\n'\n      }\n      if (\"new_password2\" in err.response.data) {\n        if (verbose) {\n          msg += i18n.t('login.passwordAgain') + ': ' \n        }\n        msg += err.response.data.new_password2[0] + '\\n'\n      }\n      if (\"non_field_errors\" in err.response.data) {\n        msg += err.response.data.non_field_errors[0] + '\\n'\n      }\n      if (!msg) {\n        msg += i18n.t('login.unknownError')\n      }\n      \n      return msg\n    },\n  \n    onChange () {}\n  }\n  \n  function pretendRequest (email, pass, cb) {\n    setTimeout(() => {\n        cb({\n          authenticated: true,\n          token: Math.random().toString(36).substring(7)\n        })\n    }, 0)\n  }"]}]}