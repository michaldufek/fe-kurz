{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js!/home/dufek/Documents/gitlab/frs-apps/src/components/NotificationPlugin/index.js","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/components/NotificationPlugin/index.js","mtime":1576496487555},{"path":"/home/dufek/Documents/gitlab/frs-apps/.babelrc","mtime":1576496397055},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5maW5kLWluZGV4IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24iOwppbXBvcnQgTm90aWZpY2F0aW9ucyBmcm9tICIuL05vdGlmaWNhdGlvbnMudnVlIjsKaW1wb3J0IGNvbnN0YW50cyBmcm9tICdAL2N1c3RvbS9hc3NldHMvanMvY29uc3RhbnRzJzsKdmFyIE5vdGlmaWNhdGlvblN0b3JlID0gewogIHN0YXRlOiBbXSwKICAvLyBoZXJlIHRoZSBub3RpZmljYXRpb25zIHdpbGwgYmUgYWRkZWQKICBzZXR0aW5nczogewogICAgb3ZlcmxhcDogZmFsc2UsCiAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJywKICAgIGhvcml6b250YWxBbGlnbjogJ3JpZ2h0JywKICAgIHR5cGU6ICdpbmZvJywKICAgIHRpbWVvdXQ6IDUwMDAsCiAgICBjbG9zZU9uQ2xpY2s6IHRydWUsCiAgICBzaG93Q2xvc2U6IHRydWUKICB9LAogIG5vdGlmaWNhdGlvbnM6IFtdLAogIHNldE9wdGlvbnM6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24odGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7CiAgfSwKICByZW1vdmVOb3RpZmljYXRpb246IGZ1bmN0aW9uIHJlbW92ZU5vdGlmaWNhdGlvbih0aW1lc3RhbXApIHsKICAgIHZhciBpbmRleFRvRGVsZXRlID0gdGhpcy5zdGF0ZS5maW5kSW5kZXgoZnVuY3Rpb24gKG4pIHsKICAgICAgcmV0dXJuIG4udGltZXN0YW1wID09PSB0aW1lc3RhbXA7CiAgICB9KTsKCiAgICBpZiAoaW5kZXhUb0RlbGV0ZSAhPT0gLTEpIHsKICAgICAgdGhpcy5zdGF0ZS5zcGxpY2UoaW5kZXhUb0RlbGV0ZSwgMSk7CiAgICB9CiAgfSwKICBhZGROb3RpZmljYXRpb246IGZ1bmN0aW9uIGFkZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pIHsKICAgIGlmICh0eXBlb2Ygbm90aWZpY2F0aW9uID09PSAnc3RyaW5nJyB8fCBub3RpZmljYXRpb24gaW5zdGFuY2VvZiBTdHJpbmcpIHsKICAgICAgbm90aWZpY2F0aW9uID0gewogICAgICAgIG1lc3NhZ2U6IG5vdGlmaWNhdGlvbgogICAgICB9OwogICAgfQoKICAgIG5vdGlmaWNhdGlvbi50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpOwogICAgbm90aWZpY2F0aW9uLnRpbWVzdGFtcC5zZXRNaWxsaXNlY29uZHMobm90aWZpY2F0aW9uLnRpbWVzdGFtcC5nZXRNaWxsaXNlY29uZHMoKSArIHRoaXMuc3RhdGUubGVuZ3RoKTsKICAgIG5vdGlmaWNhdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc2V0dGluZ3MsIG5vdGlmaWNhdGlvbik7CiAgICBub3RpZmljYXRpb24udmVydGljYWxBbGlnbiA9ICdib3R0b20nOwogICAgbm90aWZpY2F0aW9uLmhvcml6b250YWxBbGlnbiA9ICdyaWdodCc7CiAgICB0aGlzLnN0YXRlLnB1c2gobm90aWZpY2F0aW9uKTsKCiAgICBpZiAodGhpcy5ub3RpZmljYXRpb25zLmxlbmd0aCA+PSBjb25zdGFudHMubWF4Um93cyAvIDIpIHsKICAgICAgdGhpcy5ub3RpZmljYXRpb25zLnNwbGljZSgwLCAxKTsKICAgIH0KCiAgICB0aGlzLm5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24ubWVzc2FnZSk7CiAgfSwKICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeShub3RpZmljYXRpb24pIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKEFycmF5LmlzQXJyYXkobm90aWZpY2F0aW9uKSkgewogICAgICBub3RpZmljYXRpb24uZm9yRWFjaChmdW5jdGlvbiAobm90aWZpY2F0aW9uSW5zdGFuY2UpIHsKICAgICAgICBfdGhpcy5hZGROb3RpZmljYXRpb24obm90aWZpY2F0aW9uSW5zdGFuY2UpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYWRkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7CiAgICB9CiAgfQp9Owp2YXIgTm90aWZpY2F0aW9uc1BsdWdpbiA9IHsKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgdmFyIGFwcCA9IG5ldyBWdWUoewogICAgICBkYXRhOiB7CiAgICAgICAgbm90aWZpY2F0aW9uU3RvcmU6IE5vdGlmaWNhdGlvblN0b3JlCiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBub3RpZnk6IGZ1bmN0aW9uIG5vdGlmeShub3RpZmljYXRpb24pIHsKICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU3RvcmUubm90aWZ5KG5vdGlmaWNhdGlvbik7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIFZ1ZS5wcm90b3R5cGUuJG5vdGlmeSA9IGFwcC5ub3RpZnk7CiAgICBWdWUucHJvdG90eXBlLiRub3RpZmljYXRpb25zID0gYXBwLm5vdGlmaWNhdGlvblN0b3JlOwogICAgVnVlLmNvbXBvbmVudCgnTm90aWZpY2F0aW9ucycsIE5vdGlmaWNhdGlvbnMpOwoKICAgIGlmIChvcHRpb25zKSB7CiAgICAgIE5vdGlmaWNhdGlvblN0b3JlLnNldE9wdGlvbnMob3B0aW9ucyk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25zUGx1Z2luOw=="},{"version":3,"sources":["/home/dufek/Documents/gitlab/frs-apps/src/components/NotificationPlugin/index.js"],"names":["Notifications","constants","NotificationStore","state","settings","overlap","verticalAlign","horizontalAlign","type","timeout","closeOnClick","showClose","notifications","setOptions","options","Object","assign","removeNotification","timestamp","indexToDelete","findIndex","n","splice","addNotification","notification","String","message","Date","setMilliseconds","getMilliseconds","length","push","maxRows","notify","Array","isArray","forEach","notificationInstance","NotificationsPlugin","install","Vue","app","data","notificationStore","methods","prototype","$notify","$notifications","component"],"mappings":"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","sourcesContent":["import Notifications from './Notifications.vue';\r\nimport constants from '@/custom/assets/js/constants';\r\n\r\nconst NotificationStore = {\r\n  state: [], // here the notifications will be added\r\n  settings: {\r\n    overlap: false,\r\n    verticalAlign: 'top',\r\n    horizontalAlign: 'right',\r\n    type: 'info',\r\n    timeout: 5000,\r\n    closeOnClick: true,\r\n    showClose: true\r\n  },\r\n  notifications: [],\r\n  setOptions(options) {\r\n    this.settings = Object.assign(this.settings, options);\r\n  },\r\n  removeNotification(timestamp) {\r\n    const indexToDelete = this.state.findIndex(n => n.timestamp === timestamp);\r\n    if (indexToDelete !== -1) {\r\n      this.state.splice(indexToDelete, 1);\r\n    }\r\n  },\r\n  addNotification(notification) {\r\n    if (typeof notification === 'string' || notification instanceof String) {\r\n      notification = { message: notification };\r\n    }\r\n    notification.timestamp = new Date();\r\n    notification.timestamp.setMilliseconds(\r\n      notification.timestamp.getMilliseconds() + this.state.length\r\n    );\r\n    notification = Object.assign({}, this.settings, notification);\r\n\r\n    notification.verticalAlign = 'bottom'\r\n    notification.horizontalAlign = 'right'\r\n    this.state.push(notification);\r\n    if (this.notifications.length >= constants.maxRows / 2) {      \r\n      this.notifications.splice(0,1)\r\n    }\r\n    this.notifications.push(notification.message)\r\n  },\r\n  notify(notification) {\r\n    if (Array.isArray(notification)) {\r\n      notification.forEach(notificationInstance => {\r\n        this.addNotification(notificationInstance);\r\n      });\r\n    } else {\r\n      this.addNotification(notification);\r\n    }\r\n  }\r\n};\r\n\r\nconst NotificationsPlugin = {\r\n  install(Vue, options) {\r\n    let app = new Vue({\r\n      data: {\r\n        notificationStore: NotificationStore\r\n      },\r\n      methods: {\r\n        notify(notification) {\r\n          this.notificationStore.notify(notification);\r\n        }\r\n      }\r\n    });\r\n    Vue.prototype.$notify = app.notify;\r\n    Vue.prototype.$notifications = app.notificationStore;\r\n    Vue.component('Notifications', Notifications);\r\n    if (options) {\r\n      NotificationStore.setOptions(options);\r\n    }\r\n  }\r\n};\r\n\r\nexport default NotificationsPlugin;\r\n"]}]}