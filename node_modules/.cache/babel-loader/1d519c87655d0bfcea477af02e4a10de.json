{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js!/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dufek/Documents/gitlab/frs-apps/src/custom/apps/research/patternLab/BacktestPatterns.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/custom/apps/research/patternLab/BacktestPatterns.vue","mtime":1595835860230},{"path":"/home/dufek/Documents/gitlab/frs-apps/.babelrc","mtime":1576496397055},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LnByb21pc2UuZmluYWxseSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LnZhbHVlcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvZHVmZWsvRG9jdW1lbnRzL2dpdGxhYi9mcnMtYXBwcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBc3NldHNQYXR0ZXJuc1BpY2tlciBmcm9tICdAL2N1c3RvbS9jb21wb25lbnRzL0Fzc2V0c1BhdHRlcm5zUGlja2VyJzsKaW1wb3J0IGNvbnN0YW50cyBmcm9tICdAL2N1c3RvbS9hc3NldHMvanMvY29uc3RhbnRzJzsKaW1wb3J0IGhlbHBlciBmcm9tICdAL2N1c3RvbS9hc3NldHMvanMvaGVscGVyJzsKaW1wb3J0IGkxOG4gZnJvbSAiQC9pMThuIjsKaW1wb3J0IFRvcE5hdmJhciBmcm9tICJAL2N1c3RvbS9sYXlvdXQvYXBwbGljYXRpb24vcGF0dGVybkxhYi9wZXJmb3JtYW5jZVJlc3VsdHMvVG9wTmF2YmFyLnZ1ZSI7CmltcG9ydCBEYXNoYm9hcmRDb250ZW50IGZyb20gIkAvY3VzdG9tL2xheW91dC9hcHBsaWNhdGlvbi9wYXR0ZXJuTGFiL0NvbnRlbnQudnVlIjsKaW1wb3J0IE1vYmlsZU1lbnUgZnJvbSAiQC9sYXlvdXQvZGFzaGJvYXJkL01vYmlsZU1lbnUiOwppbXBvcnQgRHVhbFJpbmdMb2FkZXIgZnJvbSAnQGJpdC9qb3Noay52dWUtc3Bpbm5lcnMtY3NzLmR1YWwtcmluZy1sb2FkZXInOwp2YXIgZGVmYXVsdFN0cmF0ZWd5ID0gewogIGluaXRpYWxDYXBpdGFsOiBudWxsLAogIC8vIGVudHJ5IHJ1bGVzCiAgdHJlbmRGaWx0ZXI6IGZhbHNlLAogIG1hX2ZpbHRlcl9wZXJpb2Q6IG51bGwsCiAgZml4ZWRfYW1vdW50OiBudWxsLAogIC8vIGV4aXQgcnVsZXMKICBhbmFseXplOiBudWxsLAogIHByb2ZpdF90YWtlOiB7CiAgICB2YWx1ZTogbnVsbCwKICAgIHVuaXQ6IGNvbnN0YW50cy5kZWZhdWx0VW5pdAogIH0sCiAgc3RvcGxvc3M6IHsKICAgIHZhbHVlOiBudWxsLAogICAgdW5pdDogY29uc3RhbnRzLmRlZmF1bHRVbml0CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQXNzZXRzUGF0dGVybnNQaWNrZXI6IEFzc2V0c1BhdHRlcm5zUGlja2VyLAogICAgVG9wTmF2YmFyOiBUb3BOYXZiYXIsCiAgICBEYXNoYm9hcmRDb250ZW50OiBEYXNoYm9hcmRDb250ZW50LAogICAgTW9iaWxlTWVudTogTW9iaWxlTWVudSwKICAgIER1YWxSaW5nTG9hZGVyOiBEdWFsUmluZ0xvYWRlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yVGl0bGU6ICcgKCcgKyB0aGlzLiR0KCdyZXNlYXJjaC5wYXR0ZXJuTGFiLmJhY2t0ZXN0UGF0dGVybnMudGl0bGUnKSArICcpLicsCiAgICAgIGNvbHVtbnM6IHRoaXMuJHQoY29uc3RhbnRzLnRyYW5zbGF0aW9uS2V5cy5wYXR0ZXJucyArICcuY29sdW1ucycpLAogICAgICBzdHJhdGVneTogX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdFN0cmF0ZWd5LCB7CiAgICAgICAgZGlyZWN0aW9uOiBPYmplY3QudmFsdWVzKHRoaXMuJHQoJ3Jlc2VhcmNoLnBhdHRlcm5MYWIuYmFja3Rlc3RQYXR0ZXJucy5lbnRyeVJ1bGVzLmRpcmVjdGlvbnMnKSlbMF0KICAgICAgfSksCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBjYXJkS2V5OiAwLAogICAgICAvLyBjc3MgY2xhc3NlcwogICAgICBkYXRhQ2xhc3M6ICdkYXRhJywKICAgICAgbm9EYXRhQ2xhc3M6ICdub0RhdGEnLAogICAgICBsb2FkZXJDbGFzczogJ2xvYWRlcicKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RGF0YTogZnVuY3Rpb24gaW5pdERhdGEoKSB7CiAgICAgIHZhciBkYXRhID0gdGhpcy4kc3RvcmUuZ2V0SXRlbShjb25zdGFudHMuc3RvcmVLZXlzLmJhY2t0ZXN0UGF0dGVybnMpOwoKICAgICAgaWYgKGRhdGEpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBkYXRhLmxvYWRpbmcgPyBkYXRhLmxvYWRpbmcgOiBmYWxzZTsKCiAgICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgICAgdGhpcy5zZXRDaGVja0JhY2t0ZXN0c0ludGVydmFsKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGF0YS5zdHJhdGVneSkgewogICAgICAgICAgdGhpcy5zdHJhdGVneSA9IGRhdGEuc3RyYXRlZ3k7CiAgICAgICAgICB0aGlzLnN0cmF0ZWd5LmRpcmVjdGlvbiA9IE9iamVjdC52YWx1ZXModGhpcy4kdCgncmVzZWFyY2gucGF0dGVybkxhYi5iYWNrdGVzdFBhdHRlcm5zLmVudHJ5UnVsZXMuZGlyZWN0aW9ucycpKVtkYXRhLnN0cmF0ZWd5LmRpcmVjdGlvbl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc3RyYXRlZ3kgPSBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0U3RyYXRlZ3ksIHsKICAgICAgICAgICAgZGlyZWN0aW9uOiBPYmplY3QudmFsdWVzKHRoaXMuJHQoJ3Jlc2VhcmNoLnBhdHRlcm5MYWIuYmFja3Rlc3RQYXR0ZXJucy5lbnRyeVJ1bGVzLmRpcmVjdGlvbnMnKSlbMF0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHNldENoZWNrQmFja3Rlc3RzSW50ZXJ2YWw6IGZ1bmN0aW9uIHNldENoZWNrQmFja3Rlc3RzSW50ZXJ2YWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuY2hlY2tCYWNrdGVzdHMoaW50ZXJ2YWwpOwogICAgICB9LCBjb25zdGFudHMuaW50ZXJ2YWxzLnNlY29uZHMzKTsKICAgIH0sCiAgICBjaGVja0JhY2t0ZXN0czogZnVuY3Rpb24gY2hlY2tCYWNrdGVzdHMoaW50ZXJ2YWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYmFja3Rlc3RzRG9uZSA9IHRydWU7CiAgICAgIHZhciBub1Jlc3AgPSB0cnVlOwogICAgICB0aGlzLiRodHRwLmdldChjb25zdGFudHMudXJscy5wYXR0ZXJuTGFiLmJhY2t0ZXN0UGF0dGVybnMuc3RhdHVzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoYnQpIHsKICAgICAgICAgIG5vUmVzcCA9IGZhbHNlOwoKICAgICAgICAgIGlmICghYnQuZG9uZSkgewogICAgICAgICAgICBiYWNrdGVzdHNEb25lID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09IGNvbnN0YW50cy5zdHJpbmdzLm5ldHdvcmtFcnJvcikgewogICAgICAgICAgaGVscGVyLm5vdGlmeUF1ZGlvKF90aGlzMiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3Rpb25Mb3N0JyksICdkYW5nZXInLCBfdGhpczIuZXJyb3JUaXRsZSk7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoYmFja3Rlc3RzRG9uZSAmJiAhbm9SZXNwKSB7CiAgICAgICAgICB2YXIgYnBEYXRhID0gX3RoaXMyLiRzdG9yZS5nZXRJdGVtKGNvbnN0YW50cy5zdG9yZUtleXMuYmFja3Rlc3RQYXR0ZXJucyk7CgogICAgICAgICAgaWYgKGJwRGF0YSkgewogICAgICAgICAgICAvLyBzZXQgYnQgaWQgYW5kIG5hbWUKICAgICAgICAgICAgdmFyIGJ0cyA9IGhlbHBlci5nZXRTdG9yZWRCYWNrdGVzdHMoYnBEYXRhKTsKCiAgICAgICAgICAgIF90aGlzMi4kaHR0cC5nZXQoY29uc3RhbnRzLnVybHMucGF0dGVybkxhYi5iYWNrdGVzdFBhdHRlcm5zLnJlc3VsdHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgdmFyIGVycm9ySURzID0gW107CiAgICAgICAgICAgICAgYnRzLmZvckVhY2goZnVuY3Rpb24gKGJ0KSB7CiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIGlkcyBzbyBjaGFuZ2UgYmFja3Rlc3RzIG5hbWVzIHRvICdidF9uYW1lIChidF9pZCknIGZvcm0KICAgICAgICAgICAgICAgIHZhciByZXNwQnRzID0gcmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGRhdHVtKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBkYXR1bS5hc3NldCA9PT0gYnQuZ2V0KCdhc3NldElkJykgJiYgZGF0dW0ucGF0dGVybiA9PT0gYnQuZ2V0KCdwYXR0ZXJuSWQnKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChyZXNwQnRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzcEJ0ID0gcmVzcEJ0c1swXTsKICAgICAgICAgICAgICAgICAgYnQuc2V0KCdidElkJywgcmVzcEJ0LmlkKTsKICAgICAgICAgICAgICAgICAgYnQuc2V0KF90aGlzMi5jb2x1bW5zWzBdLnRvTG93ZXJDYXNlKCksICIiLmNvbmNhdChidC5nZXQoX3RoaXMyLmNvbHVtbnNbMF0udG9Mb3dlckNhc2UoKSkgJiYgIV90aGlzMi5pc0RlZmF1bHRQck5hbWUoYnQuZ2V0KF90aGlzMi5jb2x1bW5zWzBdLnRvTG93ZXJDYXNlKCkpKSA/IGJ0LmdldChfdGhpczIuY29sdW1uc1swXS50b0xvd2VyQ2FzZSgpKS5zcGxpdCgnICgnKVswXSA6IGhlbHBlci5nZXREZWZhdWx0UHJOYW1lKGJ0LmdldCgnYnRJZCcpKSwgIiAoIikuY29uY2F0KGJ0LmdldCgnYnRJZCcpLCAiKSIpKTsgLy8gTmFtZQoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BCdC5lcnJvcikgewogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYnQuZ2V0KF90aGlzMi5jb2x1bW5zWzBdLnRvTG93ZXJDYXNlKCkpICsgJzogJyArIHJlc3BCdC5tc2cKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgZXJyb3JJRHMucHVzaChyZXNwQnQuaWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOyAvLyBub3RpZnlpbmcgcmVzcG9uc2UgYmFja3Rlc3RzIGVycm9ycyB0aGF0IHdlcmVuJ3QgbWF0Y2hlZCBieSBmcm9udGVuZCBiYWNrdGVzdHMKCiAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyZXNwQnQpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwQnQuZXJyb3IgJiYgIWVycm9ySURzLmluY2x1ZGVzKHJlc3BCdC5pZCkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGJ0c0ZpbHRlcmVkID0gYnRzLmZpbHRlcihmdW5jdGlvbiAoYnQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnQuZ2V0KCdidElkJykgPT09IHJlc3BCdC5pZDsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKGJ0c0ZpbHRlcmVkLmxlbmd0aCA/IGJ0c0ZpbHRlcmVkWzBdLmdldChfdGhpczIuY29sdW1uc1swXS50b0xvd2VyQ2FzZSgpKSA6IF90aGlzMi4kdCgncmVzZWFyY2gucGF0dGVybkxhYi5iYWNrdGVzdFBhdHRlcm5zLnBhdHRlcm5SZXN1bHQnKSArICcgbnIuJyArIHJlc3BCdC5pZCkgKyAnOiAnICsgcmVzcEJ0Lm1zZwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBoZWxwZXIudXBkYXRlU3RvcmVCYWNrdGVzdHMoX3RoaXMyLiRzdG9yZSwgJ2JhY2t0ZXN0cycsIGJ0cywgY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKTsKICAgICAgICAgICAgICBoZWxwZXIudXBkYXRlU3RvcmUoX3RoaXMyLiRzdG9yZSwgJ2FsbG93U2F2ZScsIHRydWUsIGNvbnN0YW50cy5zdG9yZUtleXMuYmFja3Rlc3RQYXR0ZXJucyk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09IGNvbnN0YW50cy5zdHJpbmdzLm5ldHdvcmtFcnJvcikgewogICAgICAgICAgICAgICAgaGVscGVyLm5vdGlmeUF1ZGlvKF90aGlzMiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3Rpb25Mb3N0JyksICdkYW5nZXInLCBfdGhpczIuZXJyb3JUaXRsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgICAgICAgIF90aGlzMi5jYXJkS2V5Kys7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaXNEZWZhdWx0UHJOYW1lOiBmdW5jdGlvbiBpc0RlZmF1bHRQck5hbWUobmFtZSkgewogICAgICB2YXIgbmFtZVNwbGl0dGVkID0gbmFtZS5zcGxpdCgnXycpOwoKICAgICAgaWYgKG5hbWVTcGxpdHRlZC5sZW5ndGggPCAyKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgc3BsaXR0ZWQgPSBuYW1lU3BsaXR0ZWRbMV0uc3BsaXQoJyAoJyk7CgogICAgICBpZiAoc3BsaXR0ZWQubGVuZ3RoIDwgMikgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNwbGl0dGVkWzBdID09PSBzcGxpdHRlZFsxXS5zcGxpdCgnKScpWzBdOwogICAgfSwKICAgIC8vIG1ldGhvZHMgZnJvbSBBc3NldHNQYXR0ZXJuc1BpY2tlciBlbWl0cwogICAgYWRkUGF0dGVybjogZnVuY3Rpb24gYWRkUGF0dGVybigpIHsKICAgICAgaWYgKCF0aGlzLnN0cmF0ZWd5LmluaXRpYWxDYXBpdGFsKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ25vdGlmaWNhdGlvbnMubm9Jbml0aWFsQ2FwaXRhbCcpICsgdGhpcy5lcnJvclRpdGxlCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAodGhpcy5sb2FkaW5nKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ25vdGlmaWNhdGlvbnMubG9hZGluZycpICsgdGhpcy5lcnJvclRpdGxlCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZGF0YSA9IGhlbHBlci5nZXRBc3NldHNQYXR0ZXJuc1BpY2tlckRhdGEodGhpcy4kc3RvcmUpOwoKICAgICAgaWYgKCFkYXRhIHx8ICFkYXRhLmNoZWNrZWRQYXR0ZXJucy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0QmFja3Rlc3RzVGFibGUodHJ1ZSk7CiAgICAgIGhlbHBlci51cGRhdGVTdG9yZSh0aGlzLiRzdG9yZSwgJ3NhdmVkQmFja3Rlc3RzSURzJywgW10sIGNvbnN0YW50cy5zdG9yZUtleXMuYmFja3Rlc3RQYXR0ZXJucyk7CiAgICAgIGhlbHBlci51cGRhdGVTdG9yZSh0aGlzLiRzdG9yZSwgJ3Vuc2F2ZWRCYWNrdGVzdHNJRHMnLCBbXSwgY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKTsKICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnYWxsb3dTYXZlJywgZmFsc2UsIGNvbnN0YW50cy5zdG9yZUtleXMuYmFja3Rlc3RQYXR0ZXJucyk7CiAgICAgIHRoaXMuY2FyZEtleSsrOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBydW5TdHJhdGVneUNsaWNrOiBmdW5jdGlvbiBydW5TdHJhdGVneUNsaWNrKCkgewogICAgICB2YXIgZGF0YSA9IGhlbHBlci5nZXRBc3NldHNQYXR0ZXJuc1BpY2tlckRhdGEodGhpcy4kc3RvcmUpOwoKICAgICAgaWYgKCFkYXRhIHx8ICFkYXRhLmNoZWNrZWRBc3NldHMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ25vdGlmaWNhdGlvbnMuYWRkTm9Bc3NldCcpICsgdGhpcy5lcnJvclRpdGxlCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5sb2FkaW5nKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ25vdGlmaWNhdGlvbnMubG9hZGluZycpICsgdGhpcy5lcnJvclRpdGxlCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoZGF0YSAmJiAhZGF0YS5jaGVja2VkUGF0dGVybnMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ25vdGlmaWNhdGlvbnMuYWRkTm9QYXR0ZXJuJykgKyB0aGlzLmVycm9yVGl0bGUKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBjYW5SdW4gPSB0cnVlOwogICAgICB2YXIgYnRzRGF0YSA9IHRoaXMuJHN0b3JlLmdldEl0ZW0oY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKTsKCiAgICAgIGlmICghYnRzRGF0YSB8fCBidHNEYXRhICYmIChidHNEYXRhLmJhY2t0ZXN0cyA9PT0gdW5kZWZpbmVkIHx8IGJ0c0RhdGEuYmFja3Rlc3RzID09PSBbXSkpIHsKICAgICAgICBjYW5SdW4gPSB0aGlzLmFkZFBhdHRlcm4oKTsKICAgICAgfQoKICAgICAgaWYgKGNhblJ1bikgewogICAgICAgIHRoaXMuc2V0QmFja3Rlc3RzVGFibGUoKTsKICAgICAgICB0aGlzLmNhcmRLZXkrKzsKICAgICAgICB0aGlzLnJ1bkJhY2t0ZXN0cygpOwogICAgICB9CiAgICB9LAogICAgc2V0QmFja3Rlc3RzVGFibGU6IGZ1bmN0aW9uIHNldEJhY2t0ZXN0c1RhYmxlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBjcmVhdGVOZXcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwogICAgICB2YXIgYXNzZXRzUGF0dGVybnMgPSBoZWxwZXIuZ2V0QXNzZXRzUGF0dGVybnNQaWNrZXJEYXRhKHRoaXMuJHN0b3JlKTsKICAgICAgdmFyIGJwRGF0YSA9IHRoaXMuJHN0b3JlLmdldEl0ZW0oY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKTsKICAgICAgdmFyIG9sZFRhYmxlRGF0YSA9IFtdOwoKICAgICAgaWYgKGJwRGF0YSkgewogICAgICAgIG9sZFRhYmxlRGF0YSA9IGhlbHBlci5nZXRTdG9yZWRCYWNrdGVzdHMoYnBEYXRhKTsKICAgICAgfQoKICAgICAgdmFyIG5ld1RhYmxlRGF0YSA9IG9sZFRhYmxlRGF0YTsKCiAgICAgIGlmIChjcmVhdGVOZXcpIHsKICAgICAgICBpZiAoYXNzZXRzUGF0dGVybnMpIHsKICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgcm93cwogICAgICAgICAgbmV3VGFibGVEYXRhID0gW107CiAgICAgICAgICBhc3NldHNQYXR0ZXJucy5jaGVja2VkQXNzZXRzLmZvckVhY2goZnVuY3Rpb24gKGFzc2V0KSB7CiAgICAgICAgICAgIGFzc2V0c1BhdHRlcm5zLmNoZWNrZWRQYXR0ZXJucy5mb3JFYWNoKGZ1bmN0aW9uIChwYXR0ZXJuKSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IG5ldyBNYXAoKTsgLy8gb3JkZXIgb2YgcHJvcGVydGllcyBpcyBndWFyYW50ZWVkIHNvIHdlIGNhbiBzdG9yZSBvbmx5IChsYW5ndWFnZSBpbmRlcGVuZGVudCkgdmFsdWVzCgogICAgICAgICAgICAgIHZhciBjbE5yID0gMDsKICAgICAgICAgICAgICByb3cuc2V0KCdidElkJywgLTEpOwogICAgICAgICAgICAgIHJvdy5zZXQoJ2Fzc2V0SWQnLCBhc3NldC5pZCk7CiAgICAgICAgICAgICAgcm93LnNldCgncGF0dGVybklkJywgcGF0dGVybi5pZCk7CiAgICAgICAgICAgICAgcm93LnNldChfdGhpczMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIG51bGwpOyAvLyBOYW1lCgogICAgICAgICAgICAgIHJvdy5zZXQoX3RoaXMzLmNvbHVtbnNbY2xOcisrXS50b0xvd2VyQ2FzZSgpLCBhc3NldHNQYXR0ZXJucy5yYW5nZSAmJiBhc3NldHNQYXR0ZXJucy5yYW5nZS5mcm9tID8gaGVscGVyLmZvcm1hdERhdGUoaGVscGVyLmZvcm1hdERhdGVPbmx5KGFzc2V0c1BhdHRlcm5zLnJhbmdlLmZyb20pKSA6IG51bGwpOyAvLyBGcm9tCgogICAgICAgICAgICAgIHJvdy5zZXQoX3RoaXMzLmNvbHVtbnNbY2xOcisrXS50b0xvd2VyQ2FzZSgpLCBhc3NldHNQYXR0ZXJucy5yYW5nZSAmJiBhc3NldHNQYXR0ZXJucy5yYW5nZS50byA/IGhlbHBlci5mb3JtYXREYXRlKGhlbHBlci5mb3JtYXREYXRlT25seShhc3NldHNQYXR0ZXJucy5yYW5nZS50bykpIDogbnVsbCk7IC8vIFRvCgogICAgICAgICAgICAgIHJvdy5zZXQoX3RoaXMzLmNvbHVtbnNbY2xOcisrXS50b0xvd2VyQ2FzZSgpLCBhc3NldHNQYXR0ZXJucy50aW1lZnJhbWUpOyAvLyBUaW1lIGZyYW1lICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgcm93LnNldChfdGhpczMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIGFzc2V0LnN5bWJvbCk7IC8vIEFzc2V0ICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgcm93LnNldChfdGhpczMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIHBhdHRlcm4ubmFtZSk7IC8vIFBhdHRlcm4KCiAgICAgICAgICAgICAgaWYgKF90aGlzMy5zdHJhdGVneSkgewogICAgICAgICAgICAgICAgX3RoaXMzLnVwZGF0ZVJvdyhyb3csIGNsTnIpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbmV3VGFibGVEYXRhLnB1c2gocm93KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV3VGFibGVEYXRhLmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgdmFyIGNsTnIgPSA0OyAvLyBzdGFydGluZyBmcm9tIEFzc2V0IGNvbHVtbiAoZm9yIHRoZSBpZikKCiAgICAgICAgICBpZiAoYXNzZXRzUGF0dGVybnMucmFuZ2UgJiYgIWFzc2V0c1BhdHRlcm5zLnJhbmdlLnRvKSB7CiAgICAgICAgICAgIC8vIHNldCBudWxsIFRvIGRhdGVzIHRvIHRvZGF5CiAgICAgICAgICAgIHJvdy5zZXQoX3RoaXMzLmNvbHVtbnNbY2xOciAtIDJdLnRvTG93ZXJDYXNlKCksIGhlbHBlci5mb3JtYXREYXRlKG5ldyBEYXRlKCkpKTsgLy8gVG8KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlQmFja3Rlc3RzKHRoaXMuJHN0b3JlLCAnYmFja3Rlc3RzJywgbmV3VGFibGVEYXRhLCBjb25zdGFudHMuc3RvcmVLZXlzLmJhY2t0ZXN0UGF0dGVybnMpOwogICAgfSwKICAgIHVwZGF0ZVJvdzogZnVuY3Rpb24gdXBkYXRlUm93KHJvdywgY2xOcikgewogICAgICByb3cuc2V0KHRoaXMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIHRoaXMuc3RyYXRlZ3kuaW5pdGlhbENhcGl0YWwgPyAiIi5jb25jYXQodGhpcy5zdHJhdGVneS5pbml0aWFsQ2FwaXRhbCwgIiAiKS5jb25jYXQoY29uc3RhbnRzLmRlZmF1bHRVbml0KSA6IG51bGwpOyAvLyBJbml0aWFsIGNhcGl0YWwKCiAgICAgIHJvdy5zZXQodGhpcy5jb2x1bW5zW2NsTnIrK10udG9Mb3dlckNhc2UoKSwgdGhpcy5zdHJhdGVneS5hbmFseXplID8gIiIuY29uY2F0KHRoaXMuc3RyYXRlZ3kuYW5hbHl6ZSwgIiAiKS5jb25jYXQoaGVscGVyLnBsdXJhbGl6ZSh0aGlzLnN0cmF0ZWd5LmFuYWx5emUsIGNvbnN0YW50cy50cmFuc2xhdGlvbktleXMucGF0dGVybnMgKyAnLmJhcicpKSA6IG51bGwpOyAvLyBBbmFseXplCgogICAgICByb3cuc2V0KHRoaXMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIHRoaXMuc3RyYXRlZ3kucHJvZml0X3Rha2UudmFsdWUgPyAiIi5jb25jYXQodGhpcy5zdHJhdGVneS5wcm9maXRfdGFrZS52YWx1ZSwgIiAiKS5jb25jYXQodGhpcy5zdHJhdGVneS5wcm9maXRfdGFrZS51bml0KSA6IG51bGwpOyAvLyBQcm9maXQgVGFyZ2V0CgogICAgICByb3cuc2V0KHRoaXMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIHRoaXMuc3RyYXRlZ3kuc3RvcGxvc3MudmFsdWUgPyAiIi5jb25jYXQodGhpcy5zdHJhdGVneS5zdG9wbG9zcy52YWx1ZSwgIiAiKS5jb25jYXQodGhpcy5zdHJhdGVneS5zdG9wbG9zcy51bml0KSA6IG51bGwpOyAvLyBTdG9wIExvc3MKCiAgICAgIHJvdy5zZXQodGhpcy5jb2x1bW5zW2NsTnIrK10udG9Mb3dlckNhc2UoKSwgdGhpcy5zdHJhdGVneS50cmVuZEZpbHRlciAmJiB0aGlzLnN0cmF0ZWd5Lm1hX2ZpbHRlcl9wZXJpb2QgPyAiIi5jb25jYXQodGhpcy5zdHJhdGVneS5tYV9maWx0ZXJfcGVyaW9kLCAiICIpLmNvbmNhdChjb25zdGFudHMuZGVmYXVsdFVuaXQpIDogbnVsbCk7IC8vIFRyZW5kIGZpbHRlciAobW92aW5nIGF2ZXJhZ2UpCgogICAgICByb3cuc2V0KHRoaXMuY29sdW1uc1tjbE5yKytdLnRvTG93ZXJDYXNlKCksIHRoaXMuc3RyYXRlZ3kuZGlyZWN0aW9uKTsgLy8gRGlyZWN0aW9uCgogICAgICByb3cuc2V0KCdmaXhlZF9hbW91bnQnLCB0aGlzLnN0cmF0ZWd5LmZpeGVkX2Ftb3VudCk7IC8vIFJpc2sKICAgIH0sCiAgICBydW5CYWNrdGVzdHM6IGZ1bmN0aW9uIHJ1bkJhY2t0ZXN0cygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgYmFja3Rlc3RzQWxsID0gaGVscGVyLmdldFN0b3JlZEJhY2t0ZXN0cyh0aGlzLiRzdG9yZS5nZXRJdGVtKGNvbnN0YW50cy5zdG9yZUtleXMuYmFja3Rlc3RQYXR0ZXJucykpOyAvLyBydW4gYWxsIGJhY2t0ZXN0cyBzaG93ZWQgaW4gUGF0dGVybnMgdGFibGUKCiAgICAgIHZhciBiYWNrdGVzdHMyUnVuID0gW107CiAgICAgIGJhY2t0ZXN0c0FsbC5mb3JFYWNoKGZ1bmN0aW9uIChidCkgewogICAgICAgIHJldHVybiBiYWNrdGVzdHMyUnVuLnB1c2goaGVscGVyLm1hcFN0cmF0ZWd5RnJvbVJvdyhidCkpOwogICAgICB9KTsKICAgICAgdGhpcy4kaHR0cC5wb3N0KGNvbnN0YW50cy51cmxzLnBhdHRlcm5MYWIuYmFja3Rlc3RQYXR0ZXJucy5yZXN1bHRzLCBiYWNrdGVzdHMyUnVuKS50aGVuKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5zZXRDaGVja0JhY2t0ZXN0c0ludGVydmFsKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzNC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwoKICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PT0gY29uc3RhbnRzLnN0cmluZ3MubmV0d29ya0Vycm9yKSB7CiAgICAgICAgICBoZWxwZXIubm90aWZ5QXVkaW8oX3RoaXM0LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29ubmVjdGlvbkxvc3QnKSwgJ2RhbmdlcicsIF90aGlzNC5lcnJvclRpdGxlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM0LiRub3RpZnkoewogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgIG1lc3NhZ2U6IF90aGlzNC4kdCgnbm90aWZpY2F0aW9ucy5jb3VsZG50UnVuQmFja3Rlc3RzJykgKyBfdGhpczQuZXJyb3JUaXRsZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0b2dnbGVTaWRlYmFyOiBmdW5jdGlvbiB0b2dnbGVTaWRlYmFyKCkgewogICAgICBpZiAodGhpcy4kc2lkZWJhci5zaG93U2lkZWJhcikgewogICAgICAgIHRoaXMuJHNpZGViYXIuZGlzcGxheVNpZGViYXIoZmFsc2UpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RGF0YSgpOwogICAgdGhpcy5jYXJkS2V5Kys7CiAgfSwKICB3YXRjaDogewogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyh2YWwpIHsKICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnbG9hZGluZycsIHZhbCwgY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKTsKICAgIH0sCiAgICBzdHJhdGVneTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHZhciB2YWwyc3RvcmUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbCkpOwogICAgICAgIHZhbDJzdG9yZS5kaXJlY3Rpb24gPSBPYmplY3QudmFsdWVzKHRoaXMuJHQoJ3Jlc2VhcmNoLnBhdHRlcm5MYWIuYmFja3Rlc3RQYXR0ZXJucy5lbnRyeVJ1bGVzLmRpcmVjdGlvbnMnKSkuaW5kZXhPZih2YWwuZGlyZWN0aW9uKTsKICAgICAgICBoZWxwZXIudXBkYXRlU3RvcmUodGhpcy4kc3RvcmUsICdzdHJhdGVneScsIHZhbDJzdG9yZSwgY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0KfTs="},{"version":3,"sources":["BacktestPatterns.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col-xl-12 col-12 col-md-6 container\">\r\n      <assets-patterns-picker :title=\"$t('research.patternLab.backtestPatterns.title')\"\r\n                              :btnText=\"$t('research.patternLab.backtestPatterns.addPattern')\" \r\n                              @btnClicked=\"addPattern\" />\r\n    </div>\r\n\r\n    <!-- strategy settings  -->\r\n    <div class=\"col-md-6 container col-12 col-xl-3\" style=\"margin-left: 0px\">\r\n      <card>\r\n        <!-- initial capital -->\r\n        <div>\r\n          <p class=\"label\">{{ $t('research.patternLab.backtestPatterns.initialCapital') }}</p>\r\n          <base-input alternative\r\n                      type=\"text\"\r\n                      class=\"input\"\r\n                      style=\"\"\r\n                      v-model=\"strategy.initialCapital\"\r\n                      :placeholder=\"$t('research.patternLab.backtestPatterns.numberUSD')\">\r\n          </base-input>\r\n        </div>    \r\n\r\n        <!-- entry rules -->\r\n        <div style=\"clear:both;\">\r\n          <h4 slot=\"header\" class=\"card-title\">{{ $t('research.patternLab.entry') + ' ' + $t('research.patternLab.rules') }}</h4>        \r\n\r\n          <table>\r\n            <!-- direction -->\r\n            <tr>\r\n              <td>\r\n                <p>{{ $t('research.patternLab.backtestPatterns.entryRules.direction') }}</p>\r\n              </td>\r\n              <td>\r\n                <base-dropdown menu-classes=\"dropdown-black\" \r\n                              title-classes=\"btn btn-secondary\"\r\n                              :title=\"strategy.direction\">\r\n                  <ul style=\"list-style-type: none;\">\r\n                    <li v-for=\"dir in Object.values($t('research.patternLab.backtestPatterns.entryRules.directions')).filter(d => d !== strategy.direction)\">            \r\n                      <a class=\"dropdown-item\" \r\n                        @click=\"strategy.direction = dir\" \r\n                        href=\"#\">\r\n                        {{ dir }}\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </base-dropdown>\r\n              </td>\r\n            </tr>\r\n\r\n            <!-- trend filter -->\r\n            <tr :title=\"$t('research.patternLab.backtestPatterns.entryRules.trendFilterTip')\">\r\n              <td style=\"width: 46%\">\r\n                <p>{{ $t('research.patternLab.backtestPatterns.entryRules.trendFilter') }}</p>\r\n              </td>\r\n              <td>\r\n                <base-checkbox v-model=\"strategy.trendFilter\" style=\"margin-top: -20px; margin-bottom: 10px; text-align: center;\" />\r\n              </td>\r\n            </tr>\r\n\r\n            <!-- moving average -->\r\n            <tr v-if=\"strategy.trendFilter\" :title=\"$t('research.patternLab.backtestPatterns.entryRules.movingAverageTip')\">\r\n              <td>\r\n                <p>{{ $t('research.patternLab.backtestPatterns.entryRules.ma_filter_period') }}</p>\r\n              </td>\r\n              <td>\r\n                <base-input alternative\r\n                            type=\"text\"\r\n                            v-model=\"strategy.ma_filter_period\"\r\n                            :placeholder=\"$t('research.patternLab.backtestPatterns.numberUSD')\">\r\n                </base-input>\r\n              </td>\r\n            </tr>\r\n            \r\n            <!-- risk (fix-amount) -->\r\n            <tr>\r\n              <td>\r\n                <p>{{ $t('research.patternLab.backtestPatterns.entryRules.fixed_amount') }}</p>\r\n              </td>\r\n              <td>\r\n                <base-input alternative\r\n                        type=\"text\"\r\n                        v-model=\"strategy.fixed_amount\"\r\n                        :placeholder=\"$t('research.patternLab.backtestPatterns.numberUSD')\">\r\n                </base-input>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n          \r\n        </div>\r\n\r\n        <!-- exit rules -->\r\n        <div>\r\n          <h4 slot=\"header\" class=\"card-title\">{{ $t('research.patternLab.exit') + ' ' + $t('research.patternLab.rules') }}</h4>\r\n\r\n          <!-- analyze -->\r\n          <!-- <div :title=\"$t('research.patternLab.backtestPatterns.exitRules.analyzeTip')\">\r\n            <p class=\"label\" style=\"width: 34%\">{{ $t('research.patternLab.backtestPatterns.exitRules.analyze') }}</p>\r\n            <base-input alternative\r\n                        type=\"text\"\r\n                        class=\"input\"\r\n                        style=\"width: 40%\"\r\n                        v-model=\"strategy.analyze\"\r\n                        :placeholder=\"$t('research.patternLab.backtestPatterns.exitRules.numberBars')\">\r\n            </base-input>\r\n          </div> -->\r\n\r\n          <table>\r\n            <!-- profit target -->\r\n            <tr>\r\n              <td colspan=\"2\">\r\n                <p class=\"label\">{{ $t('research.patternLab.backtestPatterns.exitRules.profit_take') }}</p>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <base-input alternative\r\n                          type=\"text\"                        \r\n                          v-model=\"strategy.profit_take.value\"\r\n                          :placeholder=\"$t('number')\">\r\n                </base-input>\r\n              </td>\r\n              <td>\r\n                <base-dropdown menu-classes=\"dropdown-black\" \r\n                            title-classes=\"btn btn-secondary\"\r\n                            :title=\"strategy.profit_take.unit\">\r\n                  <ul style=\"list-style-type: none;\">\r\n                    <li v-for=\"unit in $t('research.patternLab.units').filter(u => u !== strategy.profit_take.unit)\">\r\n                      <a class=\"dropdown-item\" \r\n                        @click=\"strategy.profit_take.unit = unit\" \r\n                        href=\"#\">\r\n                        {{ unit }}\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </base-dropdown>\r\n              </td>\r\n            </tr>\r\n\r\n            <!-- stop loss -->\r\n            <tr>\r\n              <td colspan=\"2\">\r\n                <p class=\"label\">{{ $t('research.patternLab.backtestPatterns.exitRules.stoploss') }}</p>\r\n              </td>\r\n\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <base-input alternative\r\n                          type=\"text\"\r\n                          v-model=\"strategy.stoploss.value\"\r\n                          :placeholder=\"$t('number')\">\r\n                </base-input>\r\n              </td>\r\n              <td>\r\n                <base-dropdown menu-classes=\"dropdown-black\" \r\n                            title-classes=\"btn btn-secondary\"\r\n                            :title=\"strategy.stoploss.unit\">\r\n                  <ul style=\"list-style-type: none;\">\r\n                    <li v-for=\"unit in $t('research.patternLab.units').filter(u => u !== strategy.stoploss.unit)\">\r\n                      <a class=\"dropdown-item\" \r\n                        @click=\"strategy.stoploss.unit = unit\" \r\n                        href=\"#\">\r\n                        {{ unit }}\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </base-dropdown>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n\r\n        </div>\r\n\r\n        <!-- Run strategy button -->\r\n        <base-button native-type=\"submit\" type=\"secondary\" @click=\"runStrategyClick\" style=\"width: 100%\">{{ $t('research.patternLab.backtestPatterns.runStrategy') }}</base-button>\r\n\r\n      </card>\r\n    </div>\r\n    \r\n    <!-- performance results  -->\r\n    <card class=\"col-xl-8 col-md-12  container \" style=\"margin-right: 0px\" :key=\"cardKey\">\r\n      <h4 slot=\"header\" class=\"card-title\" style=\"float: left\">{{ $t('research.patternLab.backtestPatterns.performanceResults.title') }}</h4>\r\n\r\n      <top-navbar />\r\n      <DualRingLoader v-if=\"loading\" :color=\"'#54f1d2'\" :class=\"[loading ? dataClass : noDataClass, loaderClass]\"/>\r\n      <dashboard-content @click.native=\"toggleSidebar\" style=\"margin-top: 15px\" />\r\n    </card>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  import AssetsPatternsPicker from '@/custom/components/AssetsPatternsPicker'\r\n  import constants from '@/custom/assets/js/constants'\r\n  import helper from '@/custom/assets/js/helper';\r\n  import i18n from \"@/i18n\"\r\n  \r\n  import TopNavbar from \"@/custom/layout/application/patternLab/performanceResults/TopNavbar.vue\";\r\n  import DashboardContent from \"@/custom/layout/application/patternLab/Content.vue\";\r\n  import MobileMenu from \"@/layout/dashboard/MobileMenu\";\r\n  import DualRingLoader from '@bit/joshk.vue-spinners-css.dual-ring-loader';\r\n\r\n  \r\n  const defaultStrategy = {\r\n    initialCapital: null,\r\n\r\n    // entry rules\r\n    trendFilter: false,\r\n    ma_filter_period: null,\r\n    fixed_amount: null,\r\n    \r\n    // exit rules\r\n    analyze: null,\r\n    profit_take: {\r\n      value: null,\r\n      unit: constants.defaultUnit\r\n    },\r\n    stoploss: {\r\n      value: null,\r\n      unit: constants.defaultUnit\r\n    }\r\n  }\r\n  \r\n  export default {\r\n    components: {\r\n      AssetsPatternsPicker,\r\n      TopNavbar,\r\n      DashboardContent,\r\n      MobileMenu,\r\n      DualRingLoader\r\n    },\r\n\r\n    data() {\r\n      return {\r\n        errorTitle: ' (' + this.$t('research.patternLab.backtestPatterns.title') + ').',\r\n        columns: this.$t(constants.translationKeys.patterns + '.columns'),\r\n\r\n        strategy: {\r\n          ...defaultStrategy,\r\n          direction: Object.values(this.$t('research.patternLab.backtestPatterns.entryRules.directions'))[0]\r\n        },\r\n        loading: false,\r\n        cardKey: 0,\r\n\r\n        // css classes\r\n        dataClass: 'data',      \r\n        noDataClass: 'noData',\r\n        loaderClass: 'loader',\r\n      }\r\n    },\r\n    \r\n    methods: {\r\n      initData() {\r\n        let data = this.$store.getItem(constants.storeKeys.backtestPatterns)\r\n        if (data) {\r\n          this.loading = data.loading ? data.loading : false\r\n          if (this.loading) {\r\n            this.setCheckBacktestsInterval()\r\n          }\r\n\r\n          if (data.strategy) {\r\n            this.strategy = data.strategy\r\n            this.strategy.direction = Object.values(this.$t('research.patternLab.backtestPatterns.entryRules.directions'))[data.strategy.direction]\r\n          } else {\r\n            this.strategy = {\r\n              ...defaultStrategy,\r\n              direction: Object.values(this.$t('research.patternLab.backtestPatterns.entryRules.directions'))[0]\r\n            }            \r\n          }\r\n        }\r\n      },\r\n\r\n      setCheckBacktestsInterval() {\r\n        let interval = setInterval(() => { \r\n          this.checkBacktests(interval)\r\n        }, constants.intervals.seconds3 )        \r\n      },\r\n      checkBacktests(interval) {\r\n        let backtestsDone = true\r\n        let noResp = true\r\n\r\n        this.$http\r\n        .get(constants.urls.patternLab.backtestPatterns.status)\r\n        .then(response => {\r\n          response.data.forEach(bt => {\r\n            noResp = false\r\n            if (!bt.done) {\r\n              backtestsDone = false\r\n            }\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n\r\n          if (error.message === constants.strings.networkError) {\r\n            helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.errorTitle)\r\n          }\r\n        })\r\n        .finally(() => {\r\n          if (backtestsDone && !noResp) {\r\n              let bpData = this.$store.getItem(constants.storeKeys.backtestPatterns)\r\n              if (bpData) {\r\n                // set bt id and name\r\n                let bts = helper.getStoredBacktests(bpData)\r\n\r\n                this.$http\r\n                .get(constants.urls.patternLab.backtestPatterns.results)\r\n                .then(response => {\r\n                  let errorIDs = []\r\n\r\n                  bts.forEach(bt => {   // we have ids so change backtests names to 'bt_name (bt_id)' form\r\n                    let respBts = response.data.filter(datum => datum.asset === bt.get('assetId') && datum.pattern === bt.get('patternId'))\r\n                    if (respBts.length) {\r\n                      let respBt = respBts[0]\r\n                      \r\n                      bt.set('btId', respBt.id)\r\n                      bt.set(this.columns[0].toLowerCase(), `${bt.get(this.columns[0].toLowerCase()) && !this.isDefaultPrName(bt.get(this.columns[0].toLowerCase())) \r\n                                                          ? bt.get(this.columns[0].toLowerCase()).split(' (')[0] \r\n                                                          : helper.getDefaultPrName(bt.get('btId'))} (${bt.get('btId')})`)    // Name\r\n\r\n                      if (respBt.error) {\r\n                        this.$notify({\r\n                          type: 'danger', \r\n                          message: bt.get(this.columns[0].toLowerCase()) + ': ' + respBt.msg\r\n                        })\r\n                      }\r\n                      errorIDs.push(respBt.id)\r\n                    }\r\n                  })\r\n\r\n                  // notifying response backtests errors that weren't matched by frontend backtests\r\n                  response.data.forEach(respBt => {\r\n                    if (respBt.error && !errorIDs.includes(respBt.id)) {\r\n                      let btsFiltered = bts.filter(bt => bt.get('btId') === respBt.id)\r\n                      this.$notify({\r\n                        type: 'danger', \r\n                        message: (btsFiltered.length ? btsFiltered[0].get(this.columns[0].toLowerCase()) : (this.$t('research.patternLab.backtestPatterns.patternResult') + ' nr.' + respBt.id)) + ': ' + respBt.msg\r\n                      })\r\n                    }\r\n                  })\r\n\r\n                  helper.updateStoreBacktests(this.$store, 'backtests', bts, constants.storeKeys.backtestPatterns)\r\n                  helper.updateStore(this.$store, 'allowSave', true, constants.storeKeys.backtestPatterns)\r\n                })\r\n                .catch(error => {\r\n                  console.log(error);\r\n\r\n                  if (error.message === constants.strings.networkError) {\r\n                    helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.errorTitle)\r\n                  }\r\n                })\r\n                .finally(() => {\r\n                  this.loading = false\r\n                  clearInterval(interval)\r\n                  this.cardKey++\r\n                })\r\n              }\r\n          }\r\n        })\r\n      },\r\n      isDefaultPrName(name) {\r\n        let nameSplitted = name.split('_')\r\n        if (nameSplitted.length < 2) {\r\n          return false\r\n        }\r\n        let splitted = nameSplitted[1].split(' (')\r\n        if (splitted.length < 2) {\r\n          return false\r\n        }\r\n        return splitted[0] === splitted[1].split(')')[0]\r\n      },\r\n\r\n      // methods from AssetsPatternsPicker emits\r\n      addPattern() {\r\n        if (!this.strategy.initialCapital) {\r\n          this.$notify({\r\n                          type: 'warning', \r\n                          message: this.$t('notifications.noInitialCapital') + this.errorTitle\r\n                      })\r\n          return false\r\n        }\r\n\r\n        if (this.loading) {\r\n          this.$notify({\r\n                          type: 'warning', \r\n                          message: this.$t('notifications.loading') + this.errorTitle\r\n                      })\r\n          return false\r\n        }\r\n\r\n        let data = helper.getAssetsPatternsPickerData(this.$store)\r\n        if (!data || !data.checkedPatterns.length) {   \r\n          return false\r\n        }\r\n\r\n        this.setBacktestsTable(true)\r\n\r\n        helper.updateStore(this.$store, 'savedBacktestsIDs', [], constants.storeKeys.backtestPatterns)\r\n        helper.updateStore(this.$store, 'unsavedBacktestsIDs', [], constants.storeKeys.backtestPatterns)\r\n        helper.updateStore(this.$store, 'allowSave', false, constants.storeKeys.backtestPatterns)\r\n\r\n        this.cardKey++\r\n\r\n        return true\r\n      },\r\n\r\n      runStrategyClick() {\r\n        let data = helper.getAssetsPatternsPickerData(this.$store)\r\n        if (!data || !data.checkedAssets.length) {   \r\n          this.$notify({\r\n                          type: 'warning', \r\n                          message: this.$t('notifications.addNoAsset') + this.errorTitle\r\n                      })\r\n          return\r\n        }\r\n        \r\n        if (this.loading) {\r\n          this.$notify({\r\n                          type: 'warning', \r\n                          message: this.$t('notifications.loading') + this.errorTitle\r\n                      })\r\n          return \r\n        }\r\n\r\n        if (data && !data.checkedPatterns.length) {\r\n          this.$notify({\r\n              type: 'warning', \r\n              message: this.$t('notifications.addNoPattern') + this.errorTitle\r\n          })  \r\n          return\r\n        } \r\n\r\n        let canRun = true\r\n        let btsData = this.$store.getItem(constants.storeKeys.backtestPatterns)\r\n        if (!btsData || (btsData && (btsData.backtests === undefined || btsData.backtests === []))) {\r\n          canRun = this.addPattern()\r\n        } \r\n\r\n        if (canRun) {        \r\n          this.setBacktestsTable()\r\n          this.cardKey++\r\n          this.runBacktests()     \r\n        }\r\n      },\r\n\r\n      setBacktestsTable(createNew=false) {\r\n        let assetsPatterns = helper.getAssetsPatternsPickerData(this.$store)\r\n        let bpData = this.$store.getItem(constants.storeKeys.backtestPatterns)\r\n        let oldTableData = []\r\n        if (bpData) {\r\n            oldTableData = helper.getStoredBacktests(bpData)\r\n        }\r\n        let newTableData = oldTableData\r\n\r\n        if (createNew) {\r\n          if (assetsPatterns) {\r\n            // create new rows\r\n            newTableData = []\r\n\r\n            assetsPatterns.checkedAssets.forEach(asset => {\r\n                assetsPatterns.checkedPatterns.forEach(pattern => {\r\n                    let row = new Map()     // order of properties is guaranteed so we can store only (language independent) values\r\n                    let clNr = 0\r\n\r\n                    row.set('btId', -1)\r\n                    row.set('assetId', asset.id)\r\n                    row.set('patternId', pattern.id)\r\n                    row.set(this.columns[clNr++].toLowerCase(), null)    // Name\r\n                    row.set(this.columns[clNr++].toLowerCase(), assetsPatterns.range && assetsPatterns.range.from \r\n                                                                ? helper.formatDate(helper.formatDateOnly(assetsPatterns.range.from))\r\n                                                                : null)    // From\r\n                    row.set(this.columns[clNr++].toLowerCase(), assetsPatterns.range && assetsPatterns.range.to\r\n                                                                ? helper.formatDate(helper.formatDateOnly(assetsPatterns.range.to))\r\n                                                                : null)    // To\r\n                    row.set(this.columns[clNr++].toLowerCase(), assetsPatterns.timeframe)    // Time frame                    \r\n                    row.set(this.columns[clNr++].toLowerCase(), asset.symbol)    // Asset                    \r\n                    row.set(this.columns[clNr++].toLowerCase(), pattern.name)    // Pattern\r\n\r\n                    if (this.strategy) {   \r\n                        this.updateRow(row, clNr)                            \r\n                    }                                 \r\n\r\n                    newTableData.push(row)\r\n                })\r\n            })\r\n          }\r\n        } else {\r\n            newTableData.forEach(row => {\r\n                let clNr = 4    // starting from Asset column (for the if)\r\n\r\n                if (assetsPatterns.range && !assetsPatterns.range.to) {\r\n                    // set null To dates to today\r\n                    row.set(this.columns[clNr-2].toLowerCase(), helper.formatDate(new Date())) // To\r\n                }\r\n            })\r\n        }\r\n\r\n        helper.updateStoreBacktests(this.$store, 'backtests', newTableData, constants.storeKeys.backtestPatterns) \r\n      },\r\n      updateRow(row, clNr) {\r\n        row.set(this.columns[clNr++].toLowerCase(), this.strategy.initialCapital ? `${this.strategy.initialCapital} ${constants.defaultUnit}` : null)    // Initial capital\r\n        row.set(this.columns[clNr++].toLowerCase(), this.strategy.analyze ? `${this.strategy.analyze} ${helper.pluralize(this.strategy.analyze, constants.translationKeys.patterns + '.bar')}` : null)    // Analyze\r\n        row.set(this.columns[clNr++].toLowerCase(), this.strategy.profit_take.value ? `${this.strategy.profit_take.value} ${this.strategy.profit_take.unit}` : null)    // Profit Target\r\n        row.set(this.columns[clNr++].toLowerCase(), this.strategy.stoploss.value ? `${this.strategy.stoploss.value} ${this.strategy.stoploss.unit}` : null)    // Stop Loss\r\n        row.set(this.columns[clNr++].toLowerCase(), this.strategy.trendFilter && this.strategy.ma_filter_period ? `${this.strategy.ma_filter_period} ${constants.defaultUnit}` : null)    // Trend filter (moving average)\r\n        row.set(this.columns[clNr++].toLowerCase(), this.strategy.direction)    // Direction\r\n        row.set('fixed_amount', this.strategy.fixed_amount)    // Risk\r\n      },\r\n\r\n      runBacktests() { \r\n        this.loading = true\r\n        let backtestsAll = helper.getStoredBacktests(this.$store.getItem(constants.storeKeys.backtestPatterns))\r\n\r\n        // run all backtests showed in Patterns table\r\n        let backtests2Run = []\r\n        backtestsAll.forEach(bt => backtests2Run.push(helper.mapStrategyFromRow(bt)))\r\n\r\n        this.$http\r\n        .post(constants.urls.patternLab.backtestPatterns.results, backtests2Run)\r\n        .then(_ => this.setCheckBacktestsInterval())\r\n        .catch(error => {\r\n          this.loading = false\r\n          console.log(error);\r\n\r\n          if (error.message === constants.strings.networkError) {\r\n            helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.errorTitle)\r\n          } else {\r\n            this.$notify({\r\n                          type: 'warning', \r\n                          message: this.$t('notifications.couldntRunBacktests') + this.errorTitle\r\n                        })\r\n          }\r\n        })        \r\n      },\r\n\r\n      toggleSidebar() {\r\n        if (this.$sidebar.showSidebar) {\r\n          this.$sidebar.displaySidebar(false);\r\n        }\r\n      }\r\n    },\r\n\r\n    mounted() {\r\n      this.initData()     \r\n      this.cardKey++\r\n    },\r\n\r\n    watch: {\r\n      loading(val) {\r\n        helper.updateStore(this.$store, 'loading', val, constants.storeKeys.backtestPatterns) \r\n      },\r\n      strategy: {\r\n        handler(val){\r\n          let val2store = JSON.parse(JSON.stringify(val))\r\n          val2store.direction = Object.values(this.$t('research.patternLab.backtestPatterns.entryRules.directions')).indexOf(val.direction)\r\n          helper.updateStore(this.$store, 'strategy', val2store, constants.storeKeys.backtestPatterns) \r\n        },\r\n        deep: true\r\n      }\r\n    }\r\n  }  \r\n</script>\r\n<style>\r\n.label {\r\n  float: left;\r\n  width: 40%;\r\n  padding-top: 5px;\r\n}\r\n\r\n.input {\r\n  float: left;\r\n  width: 60%;\r\n}\r\n\r\n.loader {\r\n  width: 80px; \r\n  height: 80px;  \r\n  position: absolute; \r\n}\r\n\r\n.loader.noData {\r\n  top: 20%; \r\n  left: 40%;    \r\n}\r\n\r\n.loader.data {\r\n  top: 40%; \r\n  left: 42.5%;\r\n}\r\n</style>"],"sourceRoot":"src/custom/apps/research/patternLab"}]}