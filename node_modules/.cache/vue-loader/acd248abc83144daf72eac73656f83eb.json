{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dufek/Documents/gitlab/frs-apps/src/custom/apps/research/patternLab/performanceResults/Trades.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/custom/apps/research/patternLab/performanceResults/Trades.vue","mtime":1587025922792},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGYW5jeVRhYmxlIGZyb20gJ0AvY3VzdG9tL2NvbXBvbmVudHMvVGFibGVzL0ZhbmN5VGFibGUnOyAgCmltcG9ydCBjb25zdGFudHMgZnJvbSAnQC9jdXN0b20vYXNzZXRzL2pzL2NvbnN0YW50cyc7CmltcG9ydCBoZWxwZXIgZnJvbSAnQC9jdXN0b20vYXNzZXRzL2pzL2hlbHBlcic7CgoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIEZhbmN5VGFibGUKICAgIH0sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0cmFkZXNLZXk6IGNvbnN0YW50cy50cmFuc2xhdGlvbktleXMudHJhZGVzLAoKICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgICAgICAgbm9EYXRhVGV4dDogJycsCiAgICAgICAgICAgIHdhcm5pbmdUZXh0OiAnJywKICAgICAgICAgICAgdGFibGVLZXk6IDAKICAgICAgICB9CiAgICB9LAogICAgCiAgICBjb21wdXRlZDogewogICAgICAgIHBhdHRlcm5SZXN1bHRzKCkgewogICAgICAgICAgICByZXR1cm4gIXRoaXMubG9hZGluZyA/IFsgY29uc3RhbnRzLnVybHMucGF0dGVybkxhYi5iYWNrdGVzdFBhdHRlcm5zLnJlc3VsdHMgXSA6IFtdCiAgICAgICAgfQogICAgfSwKICAgIAogICAgbWV0aG9kczogewogICAgICAgIGluaXREYXRhKCkgeyAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgZGF0YSA9IHRoaXMuJHN0b3JlLmdldEl0ZW0oY29uc3RhbnRzLnN0b3JlS2V5cy5iYWNrdGVzdFBhdHRlcm5zKQogICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZGF0YS5sb2FkaW5nCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlS2V5KysKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICB9LCAgCiAgICAgICAgCiAgICAgICAgcm93c0NyZWF0b3IoZGF0YSkgewogICAgICAgICAgICBsZXQgY29sdW1ucyA9IHRoaXMuJHQodGhpcy50cmFkZXNLZXkgKyAnLmNvbHVtbnMnKQogICAgICAgICAgICBsZXQgcm93cyA9IFtdCiAgICAgICAgICAgIAogICAgICAgICAgICBkYXRhLmZvckVhY2goZGF0dW0gPT4gewogICAgICAgICAgICAgICAgbGV0IGJhc2UgPSBoZWxwZXIuZ2V0QmFja3Rlc3RQYXR0ZXJuc1RhYmxlQmFzZShkYXR1bSwgdGhpcy4kc3RvcmUsIHRoaXMuJHQoY29uc3RhbnRzLnRyYW5zbGF0aW9uS2V5cy5wYXR0ZXJucyArICcuY29sdW1ucycpKQoKICAgICAgICAgICAgICAgIGlmIChkYXR1bS5lcnJvcikgewogICAgICAgICAgICAgICAgICAgIHRoaXMud2FybmluZ1RleHQgKz0gYFBhdHRlcm4gcmVzdWx0cyBvZiAnJHtiYXNlLm5hbWV9JyBoYXMgc29tZSBwcm9ibGVtczogJHtkYXR1bS5tc2d9IGAKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaGVscGVyLmNyZWF0ZVRyYWRlc1Jvdyhyb3dzLCBkYXR1bSwgYmFzZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIGlmICghcm93cy5sZW5ndGggJiYgdGhpcy53YXJuaW5nVGV4dCkgeyAvLyBhbGwgcGF0dGVybiByZXN1bHRzIGhhcyBlcnJvcgogICAgICAgICAgICAgICAgdGhpcy5ub0RhdGFUZXh0ID0gdGhpcy53YXJuaW5nVGV4dAogICAgICAgICAgICAgICAgdGhpcy53YXJuaW5nVGV4dCA9IG51bGwKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHJvd3MKICAgICAgICB9CiAgICB9LAoKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0RGF0YSgpCiAgICB9Cn0K"},{"version":3,"sources":["Trades.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Trades.vue","sourceRoot":"src/custom/apps/research/patternLab/performanceResults","sourcesContent":["<template>\n    <div>        \n        <fancy-table :title=\"$t(tradesKey + '.title')\"\n                    :showTitle=\"false\"\n                    :apiUrls=\"patternResults\"\n                    :noDataText=\"noDataText\"\n                    :columns=\"$t(tradesKey + '.columns')\"\n                    :rowsCreator=\"rowsCreator\"\n                    :sortable=\"true\"\n                    :filterable=\"true\"\n                    :key=\"tableKey\">\n        </fancy-table>\n\n        <p v-if=\"warningText\" style=\"color: yellow; text-align: center\">{{warningText}}</p>        \n    </div>\n</template>\n<script>\nimport FancyTable from '@/custom/components/Tables/FancyTable';  \nimport constants from '@/custom/assets/js/constants';\nimport helper from '@/custom/assets/js/helper';\n\n\nexport default {\n    components: {\n        FancyTable\n    },\n\n    data() {\n        return {\n            tradesKey: constants.translationKeys.trades,\n\n            loading: true,\n            noDataText: '',\n            warningText: '',\n            tableKey: 0\n        }\n    },\n    \n    computed: {\n        patternResults() {\n            return !this.loading ? [ constants.urls.patternLab.backtestPatterns.results ] : []\n        }\n    },\n    \n    methods: {\n        initData() {            \n            let data = this.$store.getItem(constants.storeKeys.backtestPatterns)\n            if (data) {\n                this.loading = data.loading\n                this.tableKey++\n            } else {\n                this.loading = false\n            }\n        },  \n        \n        rowsCreator(data) {\n            let columns = this.$t(this.tradesKey + '.columns')\n            let rows = []\n            \n            data.forEach(datum => {\n                let base = helper.getBacktestPatternsTableBase(datum, this.$store, this.$t(constants.translationKeys.patterns + '.columns'))\n\n                if (datum.error) {\n                    this.warningText += `Pattern results of '${base.name}' has some problems: ${datum.msg} `\n                } else {\n                    helper.createTradesRow(rows, datum, base)\n                }\n            })\n\n            if (!rows.length && this.warningText) { // all pattern results has error\n                this.noDataText = this.warningText\n                this.warningText = null\n            }\n\n            return rows\n        }\n    },\n\n    mounted() {\n        this.initData()\n    }\n}\n</script>\n<style scoped>\n\n</style>"]}]}