{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dufek/Documents/gitlab/frs-apps/src/custom/components/AssetsPatternsPicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/custom/components/AssetsPatternsPicker.vue","mtime":1587030366018},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEYXRlcGlja2VyIGZyb20gJ3Z1ZWpzLWRhdGVwaWNrZXInOwppbXBvcnQgRHJvcGRvd24gZnJvbSAndnVlLXNpbXBsZS1zZWFyY2gtZHJvcGRvd24nOwppbXBvcnQgeyBCYXNlVGFibGUgfSBmcm9tICdAL2NvbXBvbmVudHMnCgppbXBvcnQgY29uc3RhbnRzIGZyb20gJ0AvY3VzdG9tL2Fzc2V0cy9qcy9jb25zdGFudHMnOwppbXBvcnQgaGVscGVyIGZyb20gJ0AvY3VzdG9tL2Fzc2V0cy9qcy9oZWxwZXInOwoKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdhc3NldHMtcGF0dGVybnMtcGlja2VyJywKICAgIGNvbXBvbmVudHM6IHsgIAogICAgICBEYXRlcGlja2VyLCAgIAogICAgICBEcm9wZG93biwKICAgICAgQmFzZVRhYmxlICAgCiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiVGl0bGUgdXNlZCBpbiBlcnJvcnMiCiAgICAgICAgfSwKICAgICAgICBvbmVBc3NldExpbWl0OiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiV2hldGhlciBvbmx5IG9uZSBhc3NldCBjYW4gYmUgY2hlY2tlZCIKICAgICAgICB9LAogICAgICAgIHNob3dEYXRlUGlja2VyczogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiB0cnVlLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogIldoZXRoZXIgZGF0ZXBpY2tlcnMgKGFuZCB0aW1lRnJhbWUgZHJvcGRvd24pIHNlY3Rpb24gc2hvdWxkIGJlIHNob3dlZCIKICAgICAgICB9LAogICAgICAgIHRmTGVmdFBvczogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIGRlZmF1bHQ6IDAsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAiUG9zaXRpb24gb2YgdGltZUZyYW1lIGRyb3Bkb3duIGZyb20gbGVmdCBpbiBwaXhlbHMiCiAgICAgICAgfSwKICAgICAgICBidG5UZXh0OiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVzY3JpcHRpb246ICJUZXh0IG9mIG1haW4gc3VibWl0IGJ1dHRvbiIKICAgICAgICB9CiAgICB9LAoKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZGVmYXVsdFRmTGVmdFBvczogMCwKICAgICAgICAgICAgdGltZWZyYW1lOiB0aGlzLiR0KCdyZXNlYXJjaC5wYXR0ZXJuTGFiLnRpbWVmcmFtZXMnKVswXSwKCiAgICAgICAgICAgIC8vIGRhdGVwaWNrZXJzCiAgICAgICAgICAgIHJhbmdlOiB7CiAgICAgICAgICAgICAgICBmcm9tOiBudWxsLAogICAgICAgICAgICAgICAgdG86IG51bGwKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIC8vIGFzc2V0cwogICAgICAgICAgICBkaXNhYmxlZERhdGVzQXNzZXQ6IG51bGwsICAgICAgICAgICAgCiAgICAgICAgICAgIHNlbGVjdGVkQXNzZXRzOiBbXSwKICAgICAgICAgICAgY2hlY2tlZEFzc2V0czogW10sCiAgICAgICAgICAgIGNoZWNrZWRBc3NldDogbnVsbCwgLy8gb25seSB1c2VkIHdoZW4gb25lQXNzZXRMaW1pdCBpcyB0cnVlCiAgICAgICAgICAgIGFzc2V0czogW10sCgogICAgICAgICAgICAvLyBwYXR0ZXJucwogICAgICAgICAgICBzZWxlY3RlZFBhdHRlcm5zOiBbXSwKICAgICAgICAgICAgY2hlY2tlZFBhdHRlcm5zOiBbXSwKICAgICAgICAgICAgY2hlY2tlZEFsbFBhdHRlcm5zOiBmYWxzZSwKICAgICAgICAgICAgcGF0dGVybnM6IFtdCiAgICAgICAgfQogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIGRhdGVGb3JtYXQoKSB7CiAgICAgICAgICAgIHJldHVybiAieXl5eS1NTS1kZCIKICAgICAgICB9LAogICAgICAgIGRpc2FibGVkRGF0ZXNGcm9tKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgZnJvbTogdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQgCiAgICAgICAgICAgICAgICAgICAgICA/ICh0aGlzLnJhbmdlLnRvID8gbmV3IERhdGUoTWF0aC5taW4odGhpcy5yYW5nZS50bywgdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQuZnJvbSkpIAogICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC5mcm9tKSA6IHRoaXMucmFuZ2UudG8sCiAgICAgICAgICAgICAgICB0bzogdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQgPyB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC50byA6IG51bGwKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGlzYWJsZWREYXRlc1RvKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgZnJvbTogdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQgPyB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC5mcm9tIDogbnVsbCwKICAgICAgICAgICAgICAgIHRvOiB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldCAKICAgICAgICAgICAgICAgICAgICA/ICh0aGlzLnJhbmdlLmZyb20gPyBuZXcgRGF0ZShNYXRoLm1heCh0aGlzLnJhbmdlLmZyb20sIHRoaXMuZGlzYWJsZWREYXRlc0Fzc2V0LnRvKSkgCiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC50bykgOiB0aGlzLnJhbmdlLmZyb20KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWF4SXRlbXMoKSB7CiAgICAgICAgICAgIHJldHVybiBjb25zdGFudHMubWF4Um93cwogICAgICAgIH0sCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBpbml0RGF0YSgpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSBoZWxwZXIuZ2V0QXNzZXRzUGF0dGVybnNQaWNrZXJEYXRhKHRoaXMuJHN0b3JlKQogICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgKHsgdGltZWZyYW1lOnRoaXMudGltZWZyYW1lLCBzZWxlY3RlZEFzc2V0czp0aGlzLnNlbGVjdGVkQXNzZXRzLCBjaGVja2VkQXNzZXRzOnRoaXMuY2hlY2tlZEFzc2V0cywgCiAgICAgICAgICAgICAgICAgICBjaGVja2VkQXNzZXQ6dGhpcy5jaGVja2VkQXNzZXQsIHNlbGVjdGVkUGF0dGVybnM6dGhpcy5zZWxlY3RlZFBhdHRlcm5zLCBjaGVja2VkUGF0dGVybnM6dGhpcy5jaGVja2VkUGF0dGVybnMsIAogICAgICAgICAgICAgICAgICAgY2hlY2tlZEFsbFBhdHRlcm5zOnRoaXMuY2hlY2tlZEFsbFBhdHRlcm5zIH0gCiAgICAgICAgICAgICAgICA9IGRhdGEpCiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0geyAKICAgICAgICAgICAgICAgICAgICBmcm9tOiBoZWxwZXIuZGVmb3JtYXREYXRlKGRhdGEucmFuZ2UuZnJvbSksCiAgICAgICAgICAgICAgICAgICAgdG86IGhlbHBlci5kZWZvcm1hdERhdGUoZGF0YS5yYW5nZS50bykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHNlbGVjdFRpbWVmcmFtZSh0aW1lZnJhbWUpIHsKICAgICAgICAgICAgdGhpcy50aW1lZnJhbWUgPSB0aW1lZnJhbWUKICAgICAgICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAndGltZWZyYW1lJywgdGhpcy4kdCgncmVzZWFyY2gucGF0dGVybkxhYi50aW1lZnJhbWVzJykuaW5kZXhPZih0aGlzLnRpbWVmcmFtZSkpCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RpbWVmcmFtZUNoYW5nZWQnKQogICAgICAgIH0sCgogICAgICAgIC8vIHNlbGVjdGluZyBhc3NldC9wYXR0ZXJucwogICAgICAgIGRkU2VsZWN0QXNzZXQoYXNzZXQpIHsKICAgICAgICAgICAgaWYgKCEoJ2lkJyBpbiBhc3NldCkpIHsKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmRkU2VsZWN0KGFzc2V0LCBhc3NldCA9PiBhc3NldC5pZCwgdGhpcy5zZWxlY3RlZEFzc2V0cykKCiAgICAgICAgICAgIGlmICh0aGlzLm9uZUFzc2V0TGltaXQpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZEFzc2V0ID0gYXNzZXQKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZGRTZWxlY3QoYXNzZXQsIGFzc2V0ID0+IGFzc2V0LmlkLCB0aGlzLmNoZWNrZWRBc3NldHMpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRkU2VsZWN0UGF0dGVybihwYXR0ZXJuKSB7CiAgICAgICAgICAgIGlmICghKCdpZCcgaW4gcGF0dGVybikpIHsKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmRkU2VsZWN0KHBhdHRlcm4sIHBhdHRlcm4gPT4gcGF0dGVybi5pZCwgdGhpcy5zZWxlY3RlZFBhdHRlcm5zKQogICAgICAgICAgICB0aGlzLmRkU2VsZWN0KHBhdHRlcm4sIHBhdHRlcm4gPT4gcGF0dGVybi5pZCwgdGhpcy5jaGVja2VkUGF0dGVybnMpCgogICAgICAgICAgICBpZiAodGhpcy5jaGVja2VkQWxsUGF0dGVybnMpIHsgIC8vIHdvcmtzIG9ubHkgaW4gZGVidWcgLSB3aHk/CiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRBbGxQYXR0ZXJucyA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGVja2VkUGF0dGVybnMubGVuZ3RoID09PSB0aGlzLnNlbGVjdGVkUGF0dGVybnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRBbGxQYXR0ZXJucyA9IHRydWUKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGRTZWxlY3QoaXRlbSwgaXRlbUtleVNlbGVjdG9yLCBzZWxlY3RlZEl0ZW1zKSB7CiAgICAgICAgICAgIGlmICghc2VsZWN0ZWRJdGVtcy5tYXAoaXRlbUtleVNlbGVjdG9yKS5pbmNsdWRlcyhpdGVtS2V5U2VsZWN0b3IoaXRlbSkpKSB7CiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zLnB1c2goaXRlbSkKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHJlbW92ZUFzc2V0KGFzc2V0KSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBc3NldHMuc3BsaWNlKHRoaXMuc2VsZWN0ZWRBc3NldHMubWFwKHNhID0+IHNhLnN5bWJvbCkuaW5kZXhPZihhc3NldC5zeW1ib2wpLCAxKTsKCiAgICAgICAgICAgIC8vIHJlbW92ZSBhbHNvIGNoZWNrZWQgYXNzZXQKICAgICAgICAgICAgaWYgKHRoaXMub25lQXNzZXRMaW1pdCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZEFzc2V0ICYmIHRoaXMuY2hlY2tlZEFzc2V0LmlkID09PSBhc3NldC5pZCkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXNzZXRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRBc3NldCA9IHRoaXMuc2VsZWN0ZWRBc3NldHNbMF0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRBc3NldCA9IG51bGwgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrZWRBc3NldHMubWFwKGEgPT4gYS5zeW1ib2wpLmluY2x1ZGVzKGFzc2V0LnN5bWJvbCkpIHsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRBc3NldHMuc3BsaWNlKHRoaXMuY2hlY2tlZEFzc2V0cy5tYXAoYSA9PiBhLnN5bWJvbCkuaW5kZXhPZihhc3NldC5zeW1ib2wpLCAxKSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gaWYgb25seSBjaGVja2VkIGFzc2V0IHdhcyByZW1vdmVkCiAgICAgICAgICAgIGlmICghdGhpcy5jaGVja2VkQXNzZXRzLmxlbmd0aCAmJiB0aGlzLnNlbGVjdGVkQXNzZXRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkQXNzZXRzLnB1c2godGhpcy5zZWxlY3RlZEFzc2V0c1swXSkgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHVwZGF0ZURpc2FibGVkRGF0ZXNBc3NldCgpIHsKICAgICAgICAgICAgdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQgPSBudWxsCiAgICAgICAgICAgIGxldCBmcm9tQ2hhbmdlZCA9IGZhbHNlCiAgICAgICAgICAgIGxldCB0b0NoYW5nZWQgPSBmYWxzZQogICAgICAgICAgICBsZXQgY2hlY2tlZEFzc2V0cyA9IHRoaXMub25lQXNzZXRMaW1pdCA/ICh0aGlzLmNoZWNrZWRBc3NldCA/IFsgdGhpcy5jaGVja2VkQXNzZXQgXSA6IFtdKSA6IHRoaXMuY2hlY2tlZEFzc2V0cwoKICAgICAgICAgICAgY2hlY2tlZEFzc2V0cy5mb3JFYWNoKGFzc2V0ID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJGh0dHAKICAgICAgICAgICAgICAgIC5nZXQoaGVscGVyLmdldFBhdHRlcm5MYWJDaGFydFVybChhc3NldCwgdGhpcy50aW1lZnJhbWUpKSAvLyB0by1kbzogY2FjaGUgdGhpcyByZXN1bHQgIQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCBuZXdGcm9tID0gbmV3IERhdGUoTWF0aC5tYXgoLi4uT2JqZWN0LmtleXMocmVzcG9uc2UuZGF0YS5DbG9zZSkpKSAgICAvLyBtYXhpbXVtIGFzc2V0IGRhdGUgISAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1RvID0gbmV3IERhdGUoTWF0aC5taW4oLi4uT2JqZWN0LmtleXMocmVzcG9uc2UuZGF0YS5DbG9zZSkpKSAgICAgICAvLyBtaW5pbXVtIGFzc2V0IGRhdGUgIQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogbmV3IERhdGUodGhpcy5kaXNhYmxlZERhdGVzQXNzZXQgPyBNYXRoLm1pbih0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC5mcm9tLCBuZXdGcm9tKSA6IG5ld0Zyb20pLAogICAgICAgICAgICAgICAgICAgICAgICB0bzogbmV3IERhdGUodGhpcy5kaXNhYmxlZERhdGVzQXNzZXQgPyBNYXRoLm1heCh0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC50bywgbmV3VG8pIDogbmV3VG8pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlID09PSBjb25zdGFudHMuc3RyaW5ncy5uZXR3b3JrRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyLm5vdGlmeUF1ZGlvKHRoaXMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0aW9uTG9zdCcpLCAnZGFuZ2VyJywgdGhpcy4kdCgnbm90aWZpY2F0aW9ucy5iZUNvbm5lY3Rpb25Mb3N0JykgKyAnKCcgKyB0aGlzLiR0KCdzaWRlYmFyLnBhdHRlcm5MYWInKSArICcpJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlLmZyb20gJiYgKHRoaXMucmFuZ2UuZnJvbSA8IHRoaXMuZGlzYWJsZWREYXRlc0Fzc2V0LnRvIHx8IHRoaXMucmFuZ2UuZnJvbSA+IHRoaXMuZGlzYWJsZWREYXRlc0Fzc2V0LmZyb20pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZ2UuZnJvbSA9IHRoaXMuZGlzYWJsZWREYXRlc0Fzc2V0LnRvCgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZyb21DaGFuZ2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnbm90aWZpY2F0aW9ucy5mcm9tQ2hhbmdlZCcpICsgJyAoJyArIHRoaXMuJHQoJ3NpZGViYXIucGF0dGVybkxhYicpICsgJyAnICsgdGhpcy4kdCgncmVzZWFyY2gucGF0dGVybkxhYi5jaGFydC50aXRsZScpICsgJykuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21DaGFuZ2VkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlLnRvICYmICh0aGlzLnJhbmdlLnRvID4gdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQuZnJvbSB8fCB0aGlzLnJhbmdlLnRvIDwgdGhpcy5kaXNhYmxlZERhdGVzQXNzZXQudG8pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZ2UudG8gPSB0aGlzLmRpc2FibGVkRGF0ZXNBc3NldC5mcm9tCgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRvQ2hhbmdlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoJ25vdGlmaWNhdGlvbnMudG9DaGFuZ2VkJykgKyAnICgnICsgdGhpcy4kdCgnc2lkZWJhci5wYXR0ZXJuTGFiJykgKyAnICcgKyB0aGlzLiR0KCdyZXNlYXJjaC5wYXR0ZXJuTGFiLmNoYXJ0LnRpdGxlJykgKyAnKS4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9DaGFuZ2VkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldEFzc2V0cyhxdWVyeSkgewogICAgICAgICAgICAvLyB0by1kbzogZWxpbWluYXRlIGNvbXBvbmVudCdzIGJ1ZyAtIHJlZHVkYW50IGNhbGwgZm9yIHNlbGVjdGVkIGl0ZW0KICAgICAgICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICB0aGlzLiRodHRwCiAgICAgICAgICAgICAgICAuZ2V0KGNvbnN0YW50cy51cmxzLnBhdHRlcm5MYWIuYXNzZXQgKyBxdWVyeSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2V0cyA9IHJlc3BvbnNlLmRhdGEucmVzdWx0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocmVzdWx0ID0+ICF0aGlzLnNlbGVjdGVkQXNzZXRzLm1hcChzYSA9PiBzYS5zeW1ib2wpLmluY2x1ZGVzKHJlc3VsdC5zeW1ib2wpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAocmVzdWx0ID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcmVzdWx0LmlkLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bWJvbDogcmVzdWx0LnN5bWJvbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5uYW1lID8gcmVzdWx0Lm5hbWUgOiByZXN1bHQuc3ltYm9sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlID09PSBjb25zdGFudHMuc3RyaW5ncy5uZXR3b3JrRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyLm5vdGlmeUF1ZGlvKHRoaXMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0aW9uTG9zdCcpLCAnZGFuZ2VyJywgdGhpcy4kdCgnbm90aWZpY2F0aW9ucy5iZUNvbm5lY3Rpb25Mb3N0JykgKyAnKCcgKyB0aGlzLiR0KCdzaWRlYmFyLnBhdHRlcm5MYWInKSArICcpJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge30pCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBjaGVja0FsbFBhdHRlcm5zKCkgewogICAgICAgICAgICBpZiAodGhpcy5jaGVja2VkQWxsUGF0dGVybnMpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZFBhdHRlcm5zID0gW10KICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgCiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWRQYXR0ZXJucyA9IHRoaXMuc2VsZWN0ZWRQYXR0ZXJucyAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ2V0UGF0dGVybnMocXVlcnkpIHsKICAgICAgICAgICAgLy8gdG8tZG86IGVsaW1pbmF0ZSBjb21wb25lbnQncyBidWcgLSByZWR1ZGFudCBjYWxsIGZvciBzZWxlY3RlZCBpdGVtICAgICAgICAKICAgICAgICAgICAgaWYgKHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICB0aGlzLiRodHRwCiAgICAgICAgICAgICAgICAuZ2V0KGNvbnN0YW50cy51cmxzLnBhdHRlcm5MYWIucGF0dGVybiArIHF1ZXJ5KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybnMgPSByZXNwb25zZS5kYXRhLmZpbHRlcihyZXN1bHQgPT4gIXRoaXMuc2VsZWN0ZWRQYXR0ZXJucy5tYXAoc3AgPT4gc3AubmFtZSkuaW5jbHVkZXMocmVzdWx0Lm5hbWUpKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlID09PSBjb25zdGFudHMuc3RyaW5ncy5uZXR3b3JrRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaGVscGVyLm5vdGlmeUF1ZGlvKHRoaXMsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25uZWN0aW9uTG9zdCcpLCAnZGFuZ2VyJywgdGhpcy4kdCgnbm90aWZpY2F0aW9ucy5iZUNvbm5lY3Rpb25Mb3N0JykgKyAnKCcgKyB0aGlzLiR0KCdzaWRlYmFyLnBhdHRlcm5MYWInKSArICcpJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge30pCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBidG5DbGljaygpIHsKICAgICAgICAgICAgaWYgKCghdGhpcy5vbmVBc3NldExpbWl0ICYmICF0aGlzLmNoZWNrZWRBc3NldHMubGVuZ3RoKSB8fCAodGhpcy5vbmVBc3NldExpbWl0ICYmICF0aGlzLmNoZWNrZWRBc3NldCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLCAKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdub3RpZmljYXRpb25zLmFkZE5vQXNzZXQnKSArICcgKCcgKyB0aGlzLiR0KCdzaWRlYmFyLnBhdHRlcm5MYWInKSArICcgJyArIHRoaXMudGl0bGUgKyAnKS4nCiAgICAgICAgICAgICAgICB9KSAgICAKCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrZWRQYXR0ZXJucy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLCAKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdub3RpZmljYXRpb25zLmFkZE5vUGF0dGVybicpICsgJyAoJyArIHRoaXMuJHQoJ3NpZGViYXIucGF0dGVybkxhYicpICsgJyAnICsgdGhpcy50aXRsZSArICcpLicKICAgICAgICAgICAgICAgIH0pICAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGhpcy4kZW1pdCgnYnRuQ2xpY2tlZCcpCiAgICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkKCkgewogICAgICB0aGlzLmluaXREYXRhKCkKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgICByYW5nZTogewogICAgICAgICAgICBoYW5kbGVyKHZhbCl7CiAgICAgICAgICAgICAgICBoZWxwZXIudXBkYXRlU3RvcmUodGhpcy4kc3RvcmUsICdyYW5nZScsIHsgZnJvbTogaGVscGVyLmZvcm1hdERhdGUodmFsLmZyb20sICcnKSwgdG86IGhlbHBlci5mb3JtYXREYXRlKHZhbC50bywgJycpIH0pIAogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWVwOiB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgLy8gYXNzZXRzCiAgICAgICAgc2VsZWN0ZWRBc3NldHModmFsdWUpIHsKICAgICAgICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnc2VsZWN0ZWRBc3NldHMnLCB2YWx1ZSkgICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIGNoZWNrZWRBc3NldHModmFsdWUpIHsKICAgICAgICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnY2hlY2tlZEFzc2V0cycsIHZhbHVlKSAKICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZERhdGVzQXNzZXQoKQogICAgICAgIH0sCiAgICAgICAgY2hlY2tlZEFzc2V0KHZhbHVlKSB7CiAgICAgICAgICAgIGhlbHBlci51cGRhdGVTdG9yZSh0aGlzLiRzdG9yZSwgJ2NoZWNrZWRBc3NldCcsIHZhbHVlKSAKICAgICAgICAgICAgdGhpcy51cGRhdGVEaXNhYmxlZERhdGVzQXNzZXQoKQogICAgICAgIH0sCgogICAgICAgIC8vIHBhdHRlcm5zCiAgICAgICAgc2VsZWN0ZWRQYXR0ZXJucyh2YWx1ZSkgewogICAgICAgICAgICBoZWxwZXIudXBkYXRlU3RvcmUodGhpcy4kc3RvcmUsICdzZWxlY3RlZFBhdHRlcm5zJywgdmFsdWUpICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBjaGVja2VkUGF0dGVybnModmFsdWUpIHsKICAgICAgICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnY2hlY2tlZFBhdHRlcm5zJywgdmFsdWUpICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBjaGVja2VkQWxsUGF0dGVybnModmFsdWUpIHsKICAgICAgICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnY2hlY2tlZEFsbFBhdHRlcm5zJywgdmFsdWUpICAgICAgICAgICAgCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["AssetsPatternsPicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AssetsPatternsPicker.vue","sourceRoot":"src/custom/components","sourcesContent":["<template>\n    <card>\n    <div class=\" row xl-flex\">\n        <audio id=\"connectionLost\" src=\"media/connectionLost.mp3\" preload=\"auto\"></audio>\n\n        <div class=\"col-12 col-xl-4\"  style=\"min-width: 300px;\" v-if=\"showDatePickers\">\n            <!-- timeframe dropdown -->\n            <div :style=\"'position: relative; left: ' + tfLeftPos + 'px; z-index: 1' + (tfLeftPos === defaultTfLeftPos ? '' : '; top: 10px')\">\n                <base-dropdown class=\"dd\" \n                               menu-classes=\"dropdown-black\" \n                               title-classes=\"btn btn-secondary\"\n                               :title=\"timeframe\">\n                    <ul style=\"list-style-type: none;\">\n                        <li v-for=\"tframe in $t('research.patternLab.timeframes').filter(el => el !== timeframe)\">            \n                            <a class=\"dropdown-item\" \n                               @click=\"selectTimeframe(tframe)\" \n                               href=\"#\">\n                               {{ tframe }}\n                            </a>\n                        </li>\n                    </ul>\n                </base-dropdown>\n            </div>\n\n            <!-- date pickers -->\n            <div class=\"col-xs-3\" :style=\"'position: relative' + (tfLeftPos === defaultTfLeftPos ? '' : '')\">\n                <div class=\"controls\">\n                            <div>\n                                <!-- <slot :row=\"item\"> -->\n                                <div>{{ $t('research.from') }}<datepicker v-model=\"range.from\" \n                                                :disabled-dates=\"disabledDatesFrom\" \n                                                :clear-button=\"true\" \n                                                :format=\"dateFormat\" \n                                                :placeholder=\"$t('research.pickDate')\" />\n                                </div>\n                                <!-- </slot> -->\n                            </div>\n                            <div>\n                                <!-- <slot :row=\"item\"> -->\n                                <div>{{ $t('research.to') }}<datepicker v-model=\"range.to\" \n                                                :disabled-dates=\"disabledDatesTo\" \n                                                :clear-button=\"true\" \n                                                :format=\"dateFormat\" \n                                                :placeholder=\"$t('research.pickDate')\" />\n                                </div>\n                                <!-- </slot> -->\n                            </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- assets -->\n        <div class=\"col-12 col-xl-4\" style=\"text-align: center;\">\n            <label>{{ $t('research.patternLab.assets') }}</label>\n            <Dropdown :options=\"assets\"\n                      :disabled=\"false\"\n                      name=\"ddAssets\"\n                      :maxItem=\"maxItems\"\n                      :placeholder=\"$t('research.patternLab.type2search')\"\n                      @filter=\"getAssets\"\n                      @selected=\"ddSelectAsset\">\n            </Dropdown>\n            <base-table :data=\"selectedAssets\" :columns=\"[ 'symbol', 'name' ]\">\n                <template slot=\"columns\">\n                    <th></th>\n                    <th></th>\n                </template>  \n                <template slot-scope=\"{row}\">\n                    <div class=\"regrow\">\n                        <td style=\"border: none\">\n                            <input v-if=\"oneAssetLimit\" type=\"radio\" :id=\"row.id\" :value=\"row\" v-model=\"checkedAsset\">\n                            <input v-else type=\"checkbox\" :id=\"row.id\" :value=\"row\" v-model=\"checkedAssets\">\n                        </td>\n                        <td style=\"border: none; color:white;margin: 0 1em; display: inline-block;\">{{row.symbol}}</td>\n                        <td style=\"border: none; border-left: 1px; text-align: left\">{{row.name}}</td>\n                    </div>\n                    <td class=\"td-actions text-right\" style=\"border: none\">                        \n                        <base-button size=\"sm\" icon @click=\"removeAsset(row)\" style=\"height: 1rem;width: 1rem;min-width: 1rem;font-size: 0.5rem;\">\n                            <i class=\"tim-icons icon-simple-remove\"></i>\n                        </base-button>\n                    </td>\n                </template>    \n            </base-table>\n        </div>\n\n        <!-- patterns -->\n        <div class=\"col-12 col-xl-4\" style=\"text-align: center;\">\n            <label>{{ $t('research.patternLab.patterns') }}</label>\n            <Dropdown :options=\"patterns\"\n                      :disabled=\"false\"\n                      name=\"ddPatterns\"\n                      :maxItem=\"maxItems\"\n                      :placeholder=\"$t('research.patternLab.type2search')\"\n                      @filter=\"getPatterns\"\n                      @selected=\"ddSelectPattern\">\n            </Dropdown>\n            <ul style=\"list-style-type: none; text-align: left; margin-top: 15px; padding-left: 0px\">\n                <li v-if=\"selectedPatterns.length\" :title=\"checkedAllPatterns ? $t('research.patternLab.uncheckAll') : $t('research.patternLab.checkAll')\">   \n                    <input type=\"checkbox\" @click=\"checkAllPatterns\" v-model=\"checkedAllPatterns\">\n                </li>\n                <li v-for=\"selectedPattern in selectedPatterns\">   \n                    <input type=\"checkbox\" :id=\"selectedPattern.id\" :value=\"selectedPattern\" v-model=\"checkedPatterns\">\n                    <label :for=\"selectedPattern.id\" style=\"margin-left: 10px\">{{ selectedPattern.name }}</label>\n                </li>\n            </ul> \n        </div>\n\n        </div>\n        <!-- Add button -->\n        <div class=\"button-wrap\">\n            <base-button native-type=\"submit\" type=\"secondary\" @click=\"btnClick\" style=\"width: 300px\">{{ btnText }}</base-button>\n        </div>\n    </card>\n</template>\n<script>\nimport Datepicker from 'vuejs-datepicker';\nimport Dropdown from 'vue-simple-search-dropdown';\nimport { BaseTable } from '@/components'\n\nimport constants from '@/custom/assets/js/constants';\nimport helper from '@/custom/assets/js/helper';\n\n\nexport default {\n    name: 'assets-patterns-picker',\n    components: {  \n      Datepicker,   \n      Dropdown,\n      BaseTable   \n    },\n    props: {\n        title: {\n            type: String,\n            description: \"Title used in errors\"\n        },\n        oneAssetLimit: {\n            type: Boolean,\n            description: \"Whether only one asset can be checked\"\n        },\n        showDatePickers: {\n            type: Boolean,\n            default: true,\n            description: \"Whether datepickers (and timeFrame dropdown) section should be showed\"\n        },\n        tfLeftPos: {\n            type: Number,\n            default: 0,\n            description: \"Position of timeFrame dropdown from left in pixels\"\n        },\n        btnText: {\n            type: String,\n            description: \"Text of main submit button\"\n        }\n    },\n\n    data() {\n        return {\n            defaultTfLeftPos: 0,\n            timeframe: this.$t('research.patternLab.timeframes')[0],\n\n            // datepickers\n            range: {\n                from: null,\n                to: null\n            },\n\n            // assets\n            disabledDatesAsset: null,            \n            selectedAssets: [],\n            checkedAssets: [],\n            checkedAsset: null, // only used when oneAssetLimit is true\n            assets: [],\n\n            // patterns\n            selectedPatterns: [],\n            checkedPatterns: [],\n            checkedAllPatterns: false,\n            patterns: []\n        }\n    },\n\n    computed: {\n        dateFormat() {\n            return \"yyyy-MM-dd\"\n        },\n        disabledDatesFrom() {\n            return {\n                from: this.disabledDatesAsset \n                      ? (this.range.to ? new Date(Math.min(this.range.to, this.disabledDatesAsset.from)) \n                      : this.disabledDatesAsset.from) : this.range.to,\n                to: this.disabledDatesAsset ? this.disabledDatesAsset.to : null\n            }\n        },\n        disabledDatesTo() {\n            return {\n                from: this.disabledDatesAsset ? this.disabledDatesAsset.from : null,\n                to: this.disabledDatesAsset \n                    ? (this.range.from ? new Date(Math.max(this.range.from, this.disabledDatesAsset.to)) \n                    : this.disabledDatesAsset.to) : this.range.from\n            }\n        },\n        maxItems() {\n            return constants.maxRows\n        },\n    },\n\n    methods: {\n        initData() {\n            let data = helper.getAssetsPatternsPickerData(this.$store)\n            if (data) {\n                ({ timeframe:this.timeframe, selectedAssets:this.selectedAssets, checkedAssets:this.checkedAssets, \n                   checkedAsset:this.checkedAsset, selectedPatterns:this.selectedPatterns, checkedPatterns:this.checkedPatterns, \n                   checkedAllPatterns:this.checkedAllPatterns } \n                = data)\n                this.range = { \n                    from: helper.deformatDate(data.range.from),\n                    to: helper.deformatDate(data.range.to)\n                }\n            }\n        },\n\n        selectTimeframe(timeframe) {\n            this.timeframe = timeframe\n            helper.updateStore(this.$store, 'timeframe', this.$t('research.patternLab.timeframes').indexOf(this.timeframe))\n            this.$emit('timeframeChanged')\n        },\n\n        // selecting asset/patterns\n        ddSelectAsset(asset) {\n            if (!('id' in asset)) {\n                return\n            }\n\n            this.ddSelect(asset, asset => asset.id, this.selectedAssets)\n\n            if (this.oneAssetLimit) {\n                this.checkedAsset = asset\n            } else {\n                this.ddSelect(asset, asset => asset.id, this.checkedAssets)\n            }\n        },\n        ddSelectPattern(pattern) {\n            if (!('id' in pattern)) {\n                return\n            }\n\n            this.ddSelect(pattern, pattern => pattern.id, this.selectedPatterns)\n            this.ddSelect(pattern, pattern => pattern.id, this.checkedPatterns)\n\n            if (this.checkedAllPatterns) {  // works only in debug - why?\n                this.checkedAllPatterns = false\n            } else if (this.checkedPatterns.length === this.selectedPatterns.length) {\n                this.checkedAllPatterns = true\n            }\n        },\n        ddSelect(item, itemKeySelector, selectedItems) {\n            if (!selectedItems.map(itemKeySelector).includes(itemKeySelector(item))) {\n                selectedItems.push(item)\n            }\n        },\n\n        removeAsset(asset) {\n            this.selectedAssets.splice(this.selectedAssets.map(sa => sa.symbol).indexOf(asset.symbol), 1);\n\n            // remove also checked asset\n            if (this.oneAssetLimit) {\n                if (this.checkedAsset && this.checkedAsset.id === asset.id) {\n                    if (this.selectedAssets.length) {\n                        this.checkedAsset = this.selectedAssets[0]\n                    } else {\n                        this.checkedAsset = null                    \n                    }\n                }\n            } else if (this.checkedAssets.map(a => a.symbol).includes(asset.symbol)) {                \n                this.checkedAssets.splice(this.checkedAssets.map(a => a.symbol).indexOf(asset.symbol), 1)                \n            }\n\n            // if only checked asset was removed\n            if (!this.checkedAssets.length && this.selectedAssets.length) {\n                this.checkedAssets.push(this.selectedAssets[0])                \n            }\n        },\n        updateDisabledDatesAsset() {\n            this.disabledDatesAsset = null\n            let fromChanged = false\n            let toChanged = false\n            let checkedAssets = this.oneAssetLimit ? (this.checkedAsset ? [ this.checkedAsset ] : []) : this.checkedAssets\n\n            checkedAssets.forEach(asset => {\n                this.$http\n                .get(helper.getPatternLabChartUrl(asset, this.timeframe)) // to-do: cache this result !\n                .then(response => {\n                    let newFrom = new Date(Math.max(...Object.keys(response.data.Close)))    // maximum asset date !                    \n                    let newTo = new Date(Math.min(...Object.keys(response.data.Close)))       // minimum asset date !\n\n                    this.disabledDatesAsset = {\n                        from: new Date(this.disabledDatesAsset ? Math.min(this.disabledDatesAsset.from, newFrom) : newFrom),\n                        to: new Date(this.disabledDatesAsset ? Math.max(this.disabledDatesAsset.to, newTo) : newTo)\n                    }\n                })\n                .catch(error => {\n                    console.log(error);\n                    \n                    if (error.message === constants.strings.networkError) {\n                        helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.$t('notifications.beConnectionLost') + '(' + this.$t('sidebar.patternLab') + ')')\n                    }\n                })\n                .finally(() => {\n                    if (this.range.from && (this.range.from < this.disabledDatesAsset.to || this.range.from > this.disabledDatesAsset.from)) {\n                        this.range.from = this.disabledDatesAsset.to\n\n                        if (!fromChanged) {\n                            this.$notify({\n                                type: 'warning', \n                                message: this.$t('notifications.fromChanged') + ' (' + this.$t('sidebar.patternLab') + ' ' + this.$t('research.patternLab.chart.title') + ').'\n                            })\n                            fromChanged = true\n                        }\n                    }\n                    if (this.range.to && (this.range.to > this.disabledDatesAsset.from || this.range.to < this.disabledDatesAsset.to)) {\n                        this.range.to = this.disabledDatesAsset.from\n\n                        if (!toChanged) {\n                            this.$notify({\n                                type: 'warning', \n                                message: this.$t('notifications.toChanged') + ' (' + this.$t('sidebar.patternLab') + ' ' + this.$t('research.patternLab.chart.title') + ').'\n                            })\n                            toChanged = true\n                        }\n                    }\n                })\n            })\n        },\n        getAssets(query) {\n            // to-do: eliminate component's bug - redudant call for selected item\n            if (query) {\n                this.$http\n                .get(constants.urls.patternLab.asset + query)\n                .then(response => {\n                    this.assets = response.data.results\n                                .filter(result => !this.selectedAssets.map(sa => sa.symbol).includes(result.symbol))\n                                .map(result => {                                     \n                                    return {\n                                        id: result.id, \n                                        symbol: result.symbol,\n                                        name: result.name ? result.name : result.symbol\n                                    }\n                                })\n                })\n                .catch(error => {\n                    console.log(error);\n                    \n                    if (error.message === constants.strings.networkError) {\n                        helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.$t('notifications.beConnectionLost') + '(' + this.$t('sidebar.patternLab') + ')')\n                    }\n                })\n                .finally(() => {})\n            }\n        },\n\n        checkAllPatterns() {\n            if (this.checkedAllPatterns) {\n                this.checkedPatterns = []\n            } else {          \n                this.checkedPatterns = this.selectedPatterns          \n            }\n        },\n        getPatterns(query) {\n            // to-do: eliminate component's bug - redudant call for selected item        \n            if (query) {\n                this.$http\n                .get(constants.urls.patternLab.pattern + query)\n                .then(response => {\n                    this.patterns = response.data.filter(result => !this.selectedPatterns.map(sp => sp.name).includes(result.name))\n                })\n                .catch(error => {\n                    console.log(error);\n                    \n                    if (error.message === constants.strings.networkError) {\n                        helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.$t('notifications.beConnectionLost') + '(' + this.$t('sidebar.patternLab') + ')')\n                    }\n                })\n                .finally(() => {})\n            }\n        },\n\n        btnClick() {\n            if ((!this.oneAssetLimit && !this.checkedAssets.length) || (this.oneAssetLimit && !this.checkedAsset)) {\n                this.$notify({\n                    type: 'warning', \n                    message: this.$t('notifications.addNoAsset') + ' (' + this.$t('sidebar.patternLab') + ' ' + this.title + ').'\n                })    \n\n                return\n            }\n            \n            if (!this.checkedPatterns.length) {\n                this.$notify({\n                    type: 'warning', \n                    message: this.$t('notifications.addNoPattern') + ' (' + this.$t('sidebar.patternLab') + ' ' + this.title + ').'\n                })  \n            }\n\n            this.$emit('btnClicked')\n        }\n    },\n\n    mounted() {\n      this.initData()\n    },\n\n    watch: {\n        range: {\n            handler(val){\n                helper.updateStore(this.$store, 'range', { from: helper.formatDate(val.from, ''), to: helper.formatDate(val.to, '') }) \n            },\n            deep: true\n        },\n\n        // assets\n        selectedAssets(value) {\n            helper.updateStore(this.$store, 'selectedAssets', value)            \n        },\n        checkedAssets(value) {\n            helper.updateStore(this.$store, 'checkedAssets', value) \n            this.updateDisabledDatesAsset()\n        },\n        checkedAsset(value) {\n            helper.updateStore(this.$store, 'checkedAsset', value) \n            this.updateDisabledDatesAsset()\n        },\n\n        // patterns\n        selectedPatterns(value) {\n            helper.updateStore(this.$store, 'selectedPatterns', value)            \n        },\n        checkedPatterns(value) {\n            helper.updateStore(this.$store, 'checkedPatterns', value)            \n        },\n        checkedAllPatterns(value) {\n            helper.updateStore(this.$store, 'checkedAllPatterns', value)            \n        }\n    }\n}\n</script>\n<style>\n\n</style>"]}]}