{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dufek/Documents/gitlab/frs-apps/src/custom/components/Charts/FancyChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/custom/components/Charts/FancyChart.vue","mtime":1587730134662},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTGluZUNoYXJ0IGZyb20gJ0AvY29tcG9uZW50cy9DaGFydHMvTGluZUNoYXJ0JzsNCmltcG9ydCAqIGFzIGNoYXJ0Q29uZmlncyBmcm9tICdAL2NvbXBvbmVudHMvQ2hhcnRzL2NvbmZpZyc7DQppbXBvcnQgRHVhbFJpbmdMb2FkZXIgZnJvbSAnQGJpdC9qb3Noay52dWUtc3Bpbm5lcnMtY3NzLmR1YWwtcmluZy1sb2FkZXInOw0KDQppbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnJzsNCmltcG9ydCBoZWxwZXIgZnJvbSAnQC9jdXN0b20vYXNzZXRzL2pzL2hlbHBlcic7DQppbXBvcnQgY29uc3RhbnRzIGZyb20gJ0AvY3VzdG9tL2Fzc2V0cy9qcy9jb25zdGFudHMnOw0KDQpjb25zdCBkZWZhdWx0UG9pbnRSYWRpdXMgPSA0DQpjb25zdCBoaWdobGlnaHRQb2ludFJhZGl1cyA9IDEwDQpjb25zdCBkZWZhdWx0UG9pbnRTdHlsZSA9ICdjaXJjbGUnDQpjb25zdCBoaWdobGlnaHRQb2ludFN0eWxlID0gJ3RyaWFuZ2xlJw0KY29uc3QgZGVmYXVsdERhdGFzZXRzID0gew0KICBib3JkZXJDb2xvcjogY29uZmlnLmNvbG9ycy5wcmltYXJ5LA0KICBib3JkZXJXaWR0aDogMiwNCiAgYm9yZGVyRGFzaDogW10sDQogIGJvcmRlckRhc2hPZmZzZXQ6IDAuMCwNCiAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6IGNvbmZpZy5jb2xvcnMucHJpbWFyeSwNCiAgcG9pbnRCb3JkZXJDb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMCknLA0KICBwb2ludEhvdmVyQmFja2dyb3VuZENvbG9yOiBjb25maWcuY29sb3JzLnByaW1hcnksDQogIHBvaW50Qm9yZGVyV2lkdGg6IDIwLA0KICBwb2ludEhvdmVyUmFkaXVzOiA0LA0KICBwb2ludEhvdmVyQm9yZGVyV2lkdGg6IDE1LA0KICBwb2ludFJhZGl1czogW10sDQogIHBvaW50U3R5bGU6IFtdDQp9DQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiZmFuY3ktY2hhcnQiLA0KICBjb21wb25lbnRzOiB7DQogICAgTGluZUNoYXJ0LA0KICAgIER1YWxSaW5nTG9hZGVyDQogIH0sDQoNCiAgcHJvcHM6IHsNCiAgICB0aXRsZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVzY3JpcHRpb246ICJDaGFydCB0aXRsZSINCiAgICB9LA0KICAgIGxlZ2VuZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVzY3JpcHRpb246ICJDaGFydCBsZWdlbmQiDQogICAgfSwgIC8vIHdvcmthcm91bmQgYmVjYXVzZSB0cmFkZXMgbGVnZW5kIGNhbm5vdCBiZSBkb25lIGNvcnJlY3RseSBpbiBjaGFydC5qcw0KICAgIHNob3dUaXRsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlc2NyaXB0aW9uOiAiV2hldGhlciB0byBzaG93IGNoYXJ0IHRpdGxlIg0KICAgIH0sDQogICAgYXhlc0xhYmVsczogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiBbXSwNCiAgICAgIGRlc2NyaXB0aW9uOiAiTGFiZWxzIG9mIGNoYXJ0IGF4ZXMiDQogICAgfSwNCiAgICBhcGlVcmxzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLA0KICAgICAgZGVzY3JpcHRpb246ICJVUkxzIHRvIEFQSSBkYXRhIHNvdXJjZXMiDQogICAgfSwNCiAgICBkYXRhRmllbGRzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIFsgJ0Nsb3NlJyBdDQogICAgICB9LA0KICAgICAgZGVzY3JpcHRpb246ICJSZXNwb25zZSBkYXRhIGZpZWxkcyB0byB1c2UgZm9yIGRpc3RpbmN0aXZlIGxpbmVzIGluIGNoYXJ0IiAgICAgIA0KICAgIH0sDQogICAgZGF0YUNyZWF0b3I6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgICAgZGVmYXVsdDogcmVzcG9uc2VEYXRhID0+IHsNCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlRGF0YQ0KICAgICAgfSwNCiAgICAgIGRlc2NyaXB0aW9uOiAiSG93IHRvIGNyZWF0ZSBkYXRhIChvYmplY3Qgb2YgdHlwZSB7IHRpbWU6IFtBcnJheV0sIGVxdWl0eTogW0FycmF5XSwgV0FSTklORzogW1N0cmluZ10sIHJlcG9ydF90aW1lc3RhbXA6IFtEYXRlXSB9KSBmcm9tIHJlc3BvbnNlIGRhdGEiDQogICAgfSwNCiAgICBub0RhdGFUZXh0OiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZXNjcmlwdGlvbjogIlRleHQgdG8gc2hvdyB3aGVuIG5vIGRhdGEiDQogICAgfSwNCiAgICBmaWxsOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVzY3JpcHRpb246ICJXaGV0aGVyIHRvIGZpbGwgYXJlYSBhYm92ZS9iZWxvdyBsaW5lIg0KICAgIH0sDQogICAgaGlnaGxpZ2h0czogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgIHJldHVybiBbeyANCiAgICAgICAgICBwb2ludHM6IFtdLCANCiAgICAgICAgICBjb2xvcjogY29uZmlnLmNvbG9ycy5wcmltYXJ5IA0KICAgICAgICB9XQ0KICAgICAgfSwNCiAgICAgIGRlc2NyaXB0aW9uOiAiUG9pbnRzIHRoYXQgc2hvdWxkIGJlIGhpZ2hsaWdodGVkIHdpdGggYmlnIHRyaWFuZ2xlIG9mIGRlZmluZWQgY29sb3IiDQogICAgfSwNCiAgICByZXNwb25zaXZlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVzY3JpcHRpb246ICJXaGV0aGVyIGNoYXJ0IGhlaWdodCBzaG91bGQgc2NhbGUgYnkgcGFyZW50IGhlaWdodCINCiAgICB9DQogIH0sDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXBkYXRlVHM6IG51bGwsDQogICAgICBsaXZlOiBmYWxzZSwNCiAgICAgIGVycm9yOiBmYWxzZSwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KDQogICAgICAvLyBjaGFydA0KICAgICAgYmlnTGluZUNoYXJ0OiB7DQogICAgICAgICAgZ3JhZGllbnRDb2xvcnM6IGNvbmZpZy5jb2xvcnMuZ3JhZGllbnRzLnByaW1hcnlHcmFkaWVudCwNCiAgICAgICAgICBncmFkaWVudFN0b3BzOiBbMSwgMC40LCAwXSwNCiAgICAgIH0sDQogICAgICBjaGFydERhdGE6IHsNCiAgICAgICAgZGF0YXNldHM6IFt7DQogICAgICAgICAgLi4uZGVmYXVsdERhdGFzZXRzLA0KICAgICAgICAgIGRhdGE6IFtdDQogICAgICAgIH1dLA0KICAgICAgICBsYWJlbHM6IFtdICAgICAgDQogICAgICB9LA0KICAgICAgY2hhcnRNaW5zOiBbXSwNCiAgICAgIGNoYXJ0TWF4ZXM6IFtdDQogICAgfQ0KICB9LA0KDQogIGNvbXB1dGVkOiB7DQogICAgbm9EYXRhKCkgew0KICAgICAgcmV0dXJuICF0aGlzLmxvYWRpbmcgJiYgKCF0aGlzLmNoYXJ0RGF0YS5kYXRhc2V0cy5sZW5ndGggfHwgIXRoaXMuY2hhcnREYXRhLmRhdGFzZXRzWzBdLmRhdGEubGVuZ3RoKQ0KICAgIH0sDQogICAgaXNFcnJvcigpIHsNCiAgICAgIHJldHVybiB0aGlzLmVycm9yDQogICAgfSwNCiAgICBleHRyYU9wdGlvbnMoKSB7DQogICAgICBsZXQgZU9wID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydENvbmZpZ3MucHVycGxlQ2hhcnRPcHRpb25zKSkgICAvLyBkZWVwIGNsb25lDQoNCiAgICAgIGxldCBkZk5yID0gMA0KICAgICAgdGhpcy5kYXRhRmllbGRzLmZvckVhY2goZmllbGQgPT4geyAgICAgICAgDQogICAgICAgIGVPcC5zY2FsZXMueUF4ZXNbZGZOcl0uaWQgPSBmaWVsZA0KICAgICAgICBlT3Auc2NhbGVzLnlBeGVzW2RmTnJdLnBvc2l0aW9uID0gZGZOciA9PT0gMCA/ICdsZWZ0JyA6ICdyaWdodCcNCiAgICAgICAgZU9wLnNjYWxlcy55QXhlc1tkZk5yXS50aWNrcy5zdWdnZXN0ZWRNaW4gPSB0aGlzLmNoYXJ0TWluc1tkZk5yXQ0KICAgICAgICBlT3Auc2NhbGVzLnlBeGVzW2RmTnJdLnRpY2tzLnN1Z2dlc3RlZE1heCA9IHRoaXMuY2hhcnRNYXhlc1tkZk5yXQ0KICAgICAgfSkNCg0KICAgICAgZU9wLnNjYWxlcy54QXhlc1swXS5zY2FsZUxhYmVsID0gew0KICAgICAgICBkaXNwbGF5OiB0aGlzLmF4ZXNMYWJlbHMubGVuZ3RoID4gMCwNCiAgICAgICAgbGFiZWxTdHJpbmc6IHRoaXMuYXhlc0xhYmVsc1swXQ0KICAgICAgfQ0KICAgICAgZU9wLnNjYWxlcy55QXhlc1swXS5zY2FsZUxhYmVsID0gew0KICAgICAgICBkaXNwbGF5OiB0aGlzLmF4ZXNMYWJlbHMubGVuZ3RoID4gMCwNCiAgICAgICAgbGFiZWxTdHJpbmc6IHRoaXMuYXhlc0xhYmVsc1sxXQ0KICAgICAgfQ0KDQogICAgICByZXR1cm4gZU9wDQogICAgfQ0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBpbml0RGF0YSgpIHsNCiAgICAgIHRoaXMubG9hZERhdGEoKTsNCiAgICAgICAgDQogICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7IA0KICAgICAgICB0aGlzLmxvYWREYXRhKCk7DQogICAgICB9LCBjb25zdGFudHMuaW50ZXJ2YWxzLmRhdGFSZWxvYWQgKTsNCiAgICB9LA0KDQogICAgbmVhcmVzdFZhbHVlKGxhYmVsLCBsYWJlbHMsIGRhdGEpIHsNCiAgICAgIC8vIGZpbmRzIGxhYmVsJ3MgdmFsdWUgb3IgbmVhcmVzdCBsZWZ0IG5laWdoYm91cg0KICAgICAgbGV0IHZhbCA9IDANCiAgICAgIGxldCBpID0gMA0KDQogICAgICBsYWJlbHMuZm9yRWFjaChvbGRMYWJlbCA9PiB7DQogICAgICAgIGlmIChsYWJlbCA9PT0gb2xkTGFiZWwpIHsNCiAgICAgICAgICAvLyBsYWJlbCBpcyBmcm9tIHRoaXMgYXJyYXkNCiAgICAgICAgICB2YWwgPSBkYXRhW2ldDQogICAgICAgIH0gZWxzZSBpZiAobGFiZWwgPiBvbGRMYWJlbCkgew0KICAgICAgICAgIC8vIHdlIGFyZSBpbiBhbm90aGVyIGFycmF5IHNvIGdldCBsYXN0IGtub3duIHZhbHVlDQogICAgICAgICAgaWYgKGkgPT09IGxhYmVscy5sZW5ndGggLSAxKSB7DQogICAgICAgICAgICAvLyBhdCB0aGUgZW5kIG9mIGFycmF5DQogICAgICAgICAgICB2YWwgPSBkYXRhW2ldDQogICAgICAgICAgfSBlbHNlIGlmIChsYWJlbCA8IGxhYmVsc1tpKzFdKSB7ICAgICAgICAgICAgDQogICAgICAgICAgICB2YWwgPSBkYXRhW2ldDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIG90aGVyd2lzZSBpdGVyYXRlIGZ1cnRoZXINCiAgICAgICAgaSsrDQogICAgICB9KQ0KDQogICAgICByZXR1cm4gdmFsDQogICAgfSwNCg0KICAgIGxvYWREYXRhKCkgeyAgDQogICAgICBsZXQgbG9hZGluZ3MgPSB7ICAgIA0KICAgICAgICBmaW5pc2hlZDogMCwNCiAgICAgICAgZXJyb3I6IDANCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmFwaVVybHMubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZQ0KICAgICAgfQ0KDQogICAgICB0aGlzLmFwaVVybHMuZm9yRWFjaChhcGlVcmwgPT4gew0KICAgICAgICB0aGlzLiRodHRwDQogICAgICAgIC5nZXQoYXBpVXJsKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB0aGlzLnJlc3BvbnNlRGF0YVRyYW5zZm9ybWVyKHJlc3BvbnNlLmRhdGEsIGxvYWRpbmdzKSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICBpZiAoKytsb2FkaW5ncy5lcnJvciA9PT0gdGhpcy5hcGlVcmxzLmxlbmd0aCkgew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9IHRydWUNCiAgICAgICAgICB9DQoNCiAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PT0gY29uc3RhbnRzLnN0cmluZ3MubmV0d29ya0Vycm9yKSB7DQogICAgICAgICAgICBoZWxwZXIubm90aWZ5QXVkaW8odGhpcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3Rpb25Mb3N0JyksICdkYW5nZXInLCB0aGlzLiR0KCdub3RpZmljYXRpb25zLmJlQ29ubmVjdGlvbkxvc3QnKSArICcoJyArIHRoaXMudGl0bGUgKyAnICcgKyB0aGlzLiR0KCdjaGFydCcpICsgJyknKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgIGlmICgrK2xvYWRpbmdzLmZpbmlzaGVkID09PSB0aGlzLmFwaVVybHMubGVuZ3RoKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KDQogICAgICAgICAgICBpZiAoIXRoaXMubGl2ZSAmJiAhdGhpcy5lcnJvcikgew0KICAgICAgICAgICAgICBoZWxwZXIubm90aWZ5QXVkaW8odGhpcywgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nvbm5lY3Rpb25Mb3N0JyksICd3YXJuaW5nJywgdGhpcy4kdCgnbm90aWZpY2F0aW9ucy5icm9rZXJDb25uZWN0aW9uTG9zdCcpICsgJygnICsgdGhpcy50aXRsZSArICcgJyArIHRoaXMuJHQoJ2NoYXJ0JykgKyAnKScpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0pDQogICAgfSwNCiAgICByZXNwb25zZURhdGFUcmFuc2Zvcm1lcihyZXNwb25zZURhdGEsIGxvYWRpbmdzPW51bGwpIHsNCiAgICAgIGlmICghbG9hZGluZ3MgfHwgIWxvYWRpbmdzLmZpbmlzaGVkKSB7DQogICAgICAgIGxldCBkYXRhc2V0cyA9IFtdDQogICAgICAgIHRoaXMuZGF0YUZpZWxkcy5mb3JFYWNoKF8gPT4gZGF0YXNldHMucHVzaCh7DQogICAgICAgICAgLi4uZGVmYXVsdERhdGFzZXRzLA0KICAgICAgICAgIGRhdGE6IFtdDQogICAgICAgIH0pKQ0KDQogICAgICAgIHRoaXMuY2hhcnREYXRhID0gew0KICAgICAgICAgIGRhdGFzZXRzOiBkYXRhc2V0cywNCiAgICAgICAgICBsYWJlbHM6IFtdDQogICAgICAgIH0gDQogICAgICB9DQoNCiAgICAgIHJlc3BvbnNlRGF0YSA9IHRoaXMuZGF0YUNyZWF0b3IocmVzcG9uc2VEYXRhKQ0KDQogICAgICBpZiAocmVzcG9uc2VEYXRhICYmICFyZXNwb25zZURhdGEudGltZSkgew0KICAgICAgICAvLyBkYXRhIGluIHRpY2tlciBzeW1ib2wgZm9ybWF0DQogICAgICAgIGxldCB0aW1lcyA9IFtdDQogICAgICAgIGxldCBlcXVpdGllcyA9IFtdDQogICAgICAgIGxldCBmaXJzdFRpbWUgPSB0cnVlDQoNCiAgICAgICAgdGhpcy5kYXRhRmllbGRzLmZvckVhY2goZmllbGQgPT4gew0KICAgICAgICAgIGxldCBmaWVsZEVxdWl0aWVzID0gW10NCg0KICAgICAgICAgIGlmIChmaWVsZCBpbiByZXNwb25zZURhdGEpIHsNCiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlc3BvbnNlRGF0YVtmaWVsZF0pKSB7DQogICAgICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHsNCiAgICAgICAgICAgICAgICAvLyB0aW1lcyBhcmUgc2FtZSBmb3IgYWxsIHByaWNlIGZpZWxkcw0KICAgICAgICAgICAgICAgIHRpbWVzLnB1c2goTnVtYmVyKGtleSkpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgZmllbGRFcXVpdGllcy5wdXNoKHZhbHVlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGVxdWl0aWVzLnB1c2goZmllbGRFcXVpdGllcykNCiAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZQ0KICAgICAgICB9KSAgICAgICAgICAgIA0KDQogICAgICAgIHZhciBkYXRhID0gew0KICAgICAgICAgIHRpbWU6IHRpbWVzLA0KICAgICAgICAgIGVxdWl0eTogZXF1aXRpZXMsDQogICAgICAgICAgV0FSTklORzogbnVsbCwNCiAgICAgICAgICByZXBvcnRfdGltZXN0YW1wOiBoZWxwZXIuZm9ybWF0RGF0ZVRpbWUodGltZXNbdGltZXMubGVuZ3RoIC0gMV0pDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGRhdGEgPSB7DQogICAgICAgICAgdGltZTogcmVzcG9uc2VEYXRhID8gcmVzcG9uc2VEYXRhLnRpbWUgOiBbXSwNCiAgICAgICAgICBlcXVpdHk6IHJlc3BvbnNlRGF0YSA/IFsgcmVzcG9uc2VEYXRhLmVxdWl0eSBdIDogW10sDQogICAgICAgICAgV0FSTklORzogcmVzcG9uc2VEYXRhID8gcmVzcG9uc2VEYXRhLldBUk5JTkcgOiBudWxsLA0KICAgICAgICAgIHJlcG9ydF90aW1lc3RhbXA6IHJlc3BvbnNlRGF0YSA/IHJlc3BvbnNlRGF0YS5yZXBvcnRfdGltZXN0YW1wIHx8IGhlbHBlci5mb3JtYXREYXRlVGltZShyZXNwb25zZURhdGEudGltZVtyZXNwb25zZURhdGEudGltZS5sZW5ndGggLSAxXSkgOiBudWxsDQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgdGhpcy5jcmVhdGVDaGFydERhdGEoZGF0YSkNCg0KICAgICAgLy8gaWYgYXQgbGVhc3Qgb25lIHNvdXJjZSBpcyBsaXZlIHdlIGFyZSBsaXZlDQogICAgICB0aGlzLmxpdmUgPSB0aGlzLmxpdmUgfHwgIWRhdGEuV0FSTklORw0KDQogICAgICBpZiAoIXRoaXMudXBkYXRlVHMpIHsNCiAgICAgICAgdGhpcy51cGRhdGVUcyA9IGRhdGEucmVwb3J0X3RpbWVzdGFtcA0KICAgICAgfQ0KICAgICAgLy8gZ2V0IGxhc3QgcmVwb3J0J3MgVGltZVN0YW1wDQogICAgICB0aGlzLnVwZGF0ZVRzID0gW3RoaXMudXBkYXRlVHMsIGRhdGEucmVwb3J0X3RpbWVzdGFtcF0uc29ydCgpWzFdIA0KICAgIH0sDQogICAgDQogICAgY3JlYXRlQ2hhcnREYXRhKGRhdGEpIHsNCiAgICAgIGxldCBkYXRhc2V0cyA9IFtdDQogICAgICBsZXQgZGF0YXNldE5yID0gMA0KDQogICAgICBsZXQgZGF0YVRpbWVzID0gaGVscGVyLmZvcm1hdERhdGVUaW1lcyhkYXRhLnRpbWUpDQogICAgICBsZXQgYWxsTGFiZWxzID0gdGhpcy5jaGFydERhdGEubGFiZWxzLmNvbmNhdChkYXRhVGltZXMpDQogICAgICANCiAgICAgIGRhdGEuZXF1aXR5LmZvckVhY2goZXF1aXR5ID0+IHsNCiAgICAgICAgLy8gYWRkIG5ldyBkYXRlcyBhbmQgc29ydCBpdA0KICAgICAgICBsZXQgYWxsRGF0YSA9IFtdDQogICAgICAgIC8vIGFnZ3JlZ2F0ZSB2YWx1ZXMgZm9yIGFsbCBkYXRlcw0KICAgICAgICBhbGxMYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7DQogICAgICAgICAgbGV0IGFnZ1ZhbHVlID0gdGhpcy5uZWFyZXN0VmFsdWUobGFiZWwsIHRoaXMuY2hhcnREYXRhLmxhYmVscywgdGhpcy5jaGFydERhdGEuZGF0YXNldHNbZGF0YXNldE5yXS5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICArIHRoaXMubmVhcmVzdFZhbHVlKGxhYmVsLCBkYXRhVGltZXMsIGVxdWl0eSkNCg0KICAgICAgICAgIC8vIGFkZCB0byBmaW5hbCBkYXRhIGFycmF5DQogICAgICAgICAgYWxsRGF0YS5wdXNoKGFnZ1ZhbHVlKQ0KICAgICAgICB9KQ0KDQogICAgICAgIGlmIChNYXRoLm1pbiguLi5hbGxEYXRhKSA8IHRoaXMuY2hhcnRNaW5zW2RhdGFzZXROcl0pIHsNCiAgICAgICAgICB0aGlzLmNoYXJ0TWluc1tkYXRhc2V0TnJdID0gTWF0aC5taW4oLi4uYWxsRGF0YSkNCiAgICAgICAgfSAgICAgICAgDQogICAgICAgIGlmIChNYXRoLm1heCguLi5hbGxEYXRhKSA+IHRoaXMuY2hhcnRNYXhlc1tkYXRhc2V0TnJdKSB7DQogICAgICAgICAgdGhpcy5jaGFydE1heGVzW2RhdGFzZXROcl0gPSBNYXRoLm1heCguLi5hbGxEYXRhKQ0KICAgICAgICB9DQogICAgICAgIC8vIHRvLWRvOiBmaXggZXh0cmFPcHRpb25zIHJlY29tcHV0YXRpb24NCg0KICAgICAgICBsZXQgZGF0YXNldFNldHRpbmcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZmF1bHREYXRhc2V0cykpICAgIC8vIGRlZXAgY2xvbmUNCiAgICAgICAgbGV0IGRlZkNvbG9yID0gT2JqZWN0LnZhbHVlcyhjb25maWcuY29sb3JzKVtkYXRhc2V0TnIgJSBPYmplY3QudmFsdWVzKGNvbmZpZy5jb2xvcnMpLmxlbmd0aF0gICAgICANCiAgICAgICAgZGF0YXNldFNldHRpbmcuYm9yZGVyQ29sb3IgPSBkZWZDb2xvcg0KDQogICAgICAgIGlmICh0aGlzLmhpZ2hsaWdodHNbMF0ucG9pbnRzLmxlbmd0aCkgeyAgIC8vIHByb2JhYmx5IG5vdCBwb3NzaWJsZSB0byBiZSBvbmx5IHN0b3AgbG9zc2VzIG9yIHRyYWRlIGV4aXRzDQogICAgICAgICAgZGF0YXNldFNldHRpbmcucG9pbnRCYWNrZ3JvdW5kQ29sb3IgPSBjb250ZXh0ID0+IHsgIC8vIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnL2RvY3MvbGF0ZXN0L2dlbmVyYWwvb3B0aW9ucy5odG1sI3NjcmlwdGFibGUtb3B0aW9ucw0KICAgICAgICAgICAgbGV0IGxhYmVsID0gbmV3IERhdGUoYWxsTGFiZWxzW2NvbnRleHQuZGF0YUluZGV4XSkuZ2V0VGltZSgpICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgY29sb3IgPSBkZWZDb2xvcg0KDQogICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHMuZm9yRWFjaChoaWdobGlnaHQgPT4gew0KICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0LnBvaW50cy5pbmNsdWRlcyhsYWJlbCkpIHsNCiAgICAgICAgICAgICAgICBjb2xvciA9IGhpZ2hsaWdodC5jb2xvcg0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgcmV0dXJuIGNvbG9yDQogICAgICAgICAgfQ0KDQogICAgICAgICAgZGF0YXNldFNldHRpbmcucG9pbnRSYWRpdXMgPSBjb250ZXh0ID0+IHsNCiAgICAgICAgICAgIGxldCBsYWJlbCA9IG5ldyBEYXRlKGFsbExhYmVsc1tjb250ZXh0LmRhdGFJbmRleF0pLmdldFRpbWUoKQ0KICAgICAgICAgICAgbGV0IHJhZGl1cyA9IGRlZmF1bHRQb2ludFJhZGl1cw0KDQogICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHMuZm9yRWFjaChoaWdobGlnaHQgPT4gew0KICAgICAgICAgICAgICBpZiAoaGlnaGxpZ2h0LnBvaW50cy5pbmNsdWRlcyhsYWJlbCkpIHsNCiAgICAgICAgICAgICAgICByYWRpdXMgPSBoaWdobGlnaHRQb2ludFJhZGl1cw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgcmV0dXJuIHJhZGl1cw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGRhdGFzZXRTZXR0aW5nLnBvaW50U3R5bGUgPSBjb250ZXh0ID0+IHsNCiAgICAgICAgICAgIGxldCBsYWJlbCA9IG5ldyBEYXRlKGFsbExhYmVsc1tjb250ZXh0LmRhdGFJbmRleF0pLmdldFRpbWUoKQ0KICAgICAgICAgICAgbGV0IHN0eWxlID0gZGVmYXVsdFBvaW50U3R5bGUNCg0KICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRzLmZvckVhY2goaGlnaGxpZ2h0ID0+IHsNCiAgICAgICAgICAgICAgaWYgKGhpZ2hsaWdodC5wb2ludHMuaW5jbHVkZXMobGFiZWwpKSB7DQogICAgICAgICAgICAgICAgc3R5bGUgPSBoaWdobGlnaHRQb2ludFN0eWxlDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICByZXR1cm4gc3R5bGUNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGRhdGFzZXRTZXR0aW5nLnBvaW50SG92ZXJCYWNrZ3JvdW5kQ29sb3IgPSBkZWZDb2xvcg0KICAgICAgICANCiAgICAgICAgbGV0IGRhdGFzZXQgPSB7DQogICAgICAgICAgLi4uZGF0YXNldFNldHRpbmcsDQogICAgICAgICAgZGF0YTogYWxsRGF0YQ0KICAgICAgICB9DQogICAgICAgIGlmICh0aGlzLmZpbGwpIHsNCiAgICAgICAgICBkYXRhc2V0WydiYWNrZ3JvdW5kQ29sb3InXSA9IGNvbmZpZy5jb2xvcnMucHJpbWFyeQ0KICAgICAgICB9DQogICAgICAgIGlmIChhbGxEYXRhLmxlbmd0aCA+IDAgJiYgdGhpcy5kYXRhRmllbGRzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICBkYXRhc2V0LmxhYmVsID0gdGhpcy5kYXRhRmllbGRzW2RhdGFzZXROcisrXQ0KICAgICAgICB9IA0KDQogICAgICAgIGRhdGFzZXRzLnB1c2goZGF0YXNldCkNCiAgICAgIH0pICAgIA0KICAgICAgDQogICAgICB0aGlzLmNoYXJ0RGF0YSA9IHsNCiAgICAgICAgZGF0YXNldHM6IGRhdGFzZXRzLA0KICAgICAgICBsYWJlbHM6IGFsbExhYmVscw0KICAgICAgfSAgICAgICANCiAgICB9DQogIH0sDQoNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmRhdGFGaWVsZHMuZm9yRWFjaChfID0+IHsNCiAgICAgIHRoaXMuY2hhcnRNaW5zLnB1c2goTnVtYmVyLk1BWF9WQUxVRSkNCiAgICAgIHRoaXMuY2hhcnRNYXhlcy5wdXNoKDApDQogICAgfSkgICAgDQoNCiAgICB0aGlzLmluaXREYXRhKCk7DQogIH0NCn07DQo="},{"version":3,"sources":["FancyChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"FancyChart.vue","sourceRoot":"src/custom/components/Charts","sourcesContent":["<template>\r\n  <card type=\"chart\">\r\n    <audio id=\"connectionLost\" src=\"media/connectionLost.mp3\" preload=\"auto\"></audio>\r\n    <div class=\"card-header\">\r\n      <h4 v-if=\"showTitle\" slot=\"header\" class=\"card-title\" style=\"float: left; margin-bottom: 20px\">{{title}}</h4>\r\n      <span v-if=\"legend\" v-html=\"legend\" />\r\n      <h5 v-if=\"!noData\" class=\"card-title\" style=\"float: right;\"><i class=\"tim-icons icon-heart-2\" :class=\"{ 'text-success': live }\" style=\"color:red\"></i>  {{ updateTs | chartUpdateTsText(loading) }}</h5>\r\n    </div>\r\n    <br/>\r\n    <div class=\"chart-area\" style=\"height: 425px\">\r\n      <section v-if=\"noData\" style=\"text-align: center\">\r\n        <p style=\"padding-top: 50px\">{{ noDataText ? noDataText : $t('noData') }}</p>\r\n      </section>\r\n      <section v-else-if=\"isError\" style=\"text-align: center\">\r\n        <p style=\"padding-top: 50px\">{{ $t('dataError') }}</p>\r\n      </section>\r\n      <section v-else>\r\n        <DualRingLoader v-if=\"loading\" :color=\"'#54f1d2'\" style=\"width: 80px; height: 80px; position: absolute; top: 40%; left: 45%;\" />\r\n        <line-chart v-if=\"responsive\"\r\n                    :chart-data=\"chartData\"\r\n                    :gradient-colors=\"bigLineChart.gradientColors\"\r\n                    :gradient-stops=\"bigLineChart.gradientStops\"\r\n                    :extra-options=\"extraOptions\"\r\n                    :height=\"null\"\r\n                    :width=\"null\">\r\n        <!-- height and width nulls is workaround of responsiveness library bug - will be fixed in vue-chartjs v4.0.0 (added as milestone) -->\r\n        </line-chart>\r\n        <line-chart v-else\r\n                    :chart-data=\"chartData\"\r\n                    :gradient-colors=\"bigLineChart.gradientColors\"\r\n                    :gradient-stops=\"bigLineChart.gradientStops\"\r\n                    :extra-options=\"extraOptions\">                    \r\n        </line-chart>\r\n      </section>\r\n    </div>\r\n  </card>\r\n</template>\r\n<script>\r\nimport LineChart from '@/components/Charts/LineChart';\r\nimport * as chartConfigs from '@/components/Charts/config';\r\nimport DualRingLoader from '@bit/joshk.vue-spinners-css.dual-ring-loader';\r\n\r\nimport config from '@/config';\r\nimport helper from '@/custom/assets/js/helper';\r\nimport constants from '@/custom/assets/js/constants';\r\n\r\nconst defaultPointRadius = 4\r\nconst highlightPointRadius = 10\r\nconst defaultPointStyle = 'circle'\r\nconst highlightPointStyle = 'triangle'\r\nconst defaultDatasets = {\r\n  borderColor: config.colors.primary,\r\n  borderWidth: 2,\r\n  borderDash: [],\r\n  borderDashOffset: 0.0,\r\n  pointBackgroundColor: config.colors.primary,\r\n  pointBorderColor: 'rgba(255,255,255,0)',\r\n  pointHoverBackgroundColor: config.colors.primary,\r\n  pointBorderWidth: 20,\r\n  pointHoverRadius: 4,\r\n  pointHoverBorderWidth: 15,\r\n  pointRadius: [],\r\n  pointStyle: []\r\n}\r\n\r\n\r\nexport default {\r\n  name: \"fancy-chart\",\r\n  components: {\r\n    LineChart,\r\n    DualRingLoader\r\n  },\r\n\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      description: \"Chart title\"\r\n    },\r\n    legend: {\r\n      type: String,\r\n      description: \"Chart legend\"\r\n    },  // workaround because trades legend cannot be done correctly in chart.js\r\n    showTitle: {\r\n      type: Boolean,\r\n      description: \"Whether to show chart title\"\r\n    },\r\n    axesLabels: {\r\n      type: Array,\r\n      default: () => [],\r\n      description: \"Labels of chart axes\"\r\n    },\r\n    apiUrls: {\r\n      type: Array,\r\n      default: () => [],\r\n      description: \"URLs to API data sources\"\r\n    },\r\n    dataFields: {\r\n      type: Array,\r\n      default: () => {\r\n        return [ 'Close' ]\r\n      },\r\n      description: \"Response data fields to use for distinctive lines in chart\"      \r\n    },\r\n    dataCreator: {\r\n      type: Function,\r\n      default: responseData => {\r\n        return responseData\r\n      },\r\n      description: \"How to create data (object of type { time: [Array], equity: [Array], WARNING: [String], report_timestamp: [Date] }) from response data\"\r\n    },\r\n    noDataText: {\r\n      type: String,\r\n      description: \"Text to show when no data\"\r\n    },\r\n    fill: {\r\n      type: Boolean,\r\n      description: \"Whether to fill area above/below line\"\r\n    },\r\n    highlights: {\r\n      type: Array,\r\n      default: () => {\r\n        return [{ \r\n          points: [], \r\n          color: config.colors.primary \r\n        }]\r\n      },\r\n      description: \"Points that should be highlighted with big triangle of defined color\"\r\n    },\r\n    responsive: {\r\n      type: Boolean,\r\n      description: \"Whether chart height should scale by parent height\"\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      updateTs: null,\r\n      live: false,\r\n      error: false,\r\n      loading: false,\r\n\r\n      // chart\r\n      bigLineChart: {\r\n          gradientColors: config.colors.gradients.primaryGradient,\r\n          gradientStops: [1, 0.4, 0],\r\n      },\r\n      chartData: {\r\n        datasets: [{\r\n          ...defaultDatasets,\r\n          data: []\r\n        }],\r\n        labels: []      \r\n      },\r\n      chartMins: [],\r\n      chartMaxes: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    noData() {\r\n      return !this.loading && (!this.chartData.datasets.length || !this.chartData.datasets[0].data.length)\r\n    },\r\n    isError() {\r\n      return this.error\r\n    },\r\n    extraOptions() {\r\n      let eOp = JSON.parse(JSON.stringify(chartConfigs.purpleChartOptions))   // deep clone\r\n\r\n      let dfNr = 0\r\n      this.dataFields.forEach(field => {        \r\n        eOp.scales.yAxes[dfNr].id = field\r\n        eOp.scales.yAxes[dfNr].position = dfNr === 0 ? 'left' : 'right'\r\n        eOp.scales.yAxes[dfNr].ticks.suggestedMin = this.chartMins[dfNr]\r\n        eOp.scales.yAxes[dfNr].ticks.suggestedMax = this.chartMaxes[dfNr]\r\n      })\r\n\r\n      eOp.scales.xAxes[0].scaleLabel = {\r\n        display: this.axesLabels.length > 0,\r\n        labelString: this.axesLabels[0]\r\n      }\r\n      eOp.scales.yAxes[0].scaleLabel = {\r\n        display: this.axesLabels.length > 0,\r\n        labelString: this.axesLabels[1]\r\n      }\r\n\r\n      return eOp\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    initData() {\r\n      this.loadData();\r\n        \r\n      setInterval(() => { \r\n        this.loadData();\r\n      }, constants.intervals.dataReload );\r\n    },\r\n\r\n    nearestValue(label, labels, data) {\r\n      // finds label's value or nearest left neighbour\r\n      let val = 0\r\n      let i = 0\r\n\r\n      labels.forEach(oldLabel => {\r\n        if (label === oldLabel) {\r\n          // label is from this array\r\n          val = data[i]\r\n        } else if (label > oldLabel) {\r\n          // we are in another array so get last known value\r\n          if (i === labels.length - 1) {\r\n            // at the end of array\r\n            val = data[i]\r\n          } else if (label < labels[i+1]) {            \r\n            val = data[i]\r\n          }\r\n        }\r\n        // otherwise iterate further\r\n        i++\r\n      })\r\n\r\n      return val\r\n    },\r\n\r\n    loadData() {  \r\n      let loadings = {    \r\n        finished: 0,\r\n        error: 0\r\n      }\r\n      if (this.apiUrls.length > 0) {\r\n        this.loading = true\r\n        this.error = false\r\n      }\r\n\r\n      this.apiUrls.forEach(apiUrl => {\r\n        this.$http\r\n        .get(apiUrl)\r\n        .then(response => this.responseDataTransformer(response.data, loadings))\r\n        .catch(error => {\r\n          // console.log(error)\r\n          if (++loadings.error === this.apiUrls.length) {\r\n            this.error = true\r\n          }\r\n\r\n          if (error.message === constants.strings.networkError) {\r\n            helper.notifyAudio(this, document.getElementById('connectionLost'), 'danger', this.$t('notifications.beConnectionLost') + '(' + this.title + ' ' + this.$t('chart') + ')')\r\n          }\r\n        })\r\n        .finally(() => {\r\n          if (++loadings.finished === this.apiUrls.length) {\r\n            this.loading = false\r\n\r\n            if (!this.live && !this.error) {\r\n              helper.notifyAudio(this, document.getElementById('connectionLost'), 'warning', this.$t('notifications.brokerConnectionLost') + '(' + this.title + ' ' + this.$t('chart') + ')')\r\n            }\r\n          }\r\n        });\r\n      })\r\n    },\r\n    responseDataTransformer(responseData, loadings=null) {\r\n      if (!loadings || !loadings.finished) {\r\n        let datasets = []\r\n        this.dataFields.forEach(_ => datasets.push({\r\n          ...defaultDatasets,\r\n          data: []\r\n        }))\r\n\r\n        this.chartData = {\r\n          datasets: datasets,\r\n          labels: []\r\n        } \r\n      }\r\n\r\n      responseData = this.dataCreator(responseData)\r\n\r\n      if (responseData && !responseData.time) {\r\n        // data in ticker symbol format\r\n        let times = []\r\n        let equities = []\r\n        let firstTime = true\r\n\r\n        this.dataFields.forEach(field => {\r\n          let fieldEquities = []\r\n\r\n          if (field in responseData) {\r\n            for (const [key, value] of Object.entries(responseData[field])) {\r\n              if (firstTime) {\r\n                // times are same for all price fields\r\n                times.push(Number(key))\r\n              }\r\n              fieldEquities.push(value)\r\n            }\r\n          }\r\n\r\n          equities.push(fieldEquities)\r\n          firstTime = false\r\n        })            \r\n\r\n        var data = {\r\n          time: times,\r\n          equity: equities,\r\n          WARNING: null,\r\n          report_timestamp: helper.formatDateTime(times[times.length - 1])\r\n        }\r\n      } else {\r\n        data = {\r\n          time: responseData ? responseData.time : [],\r\n          equity: responseData ? [ responseData.equity ] : [],\r\n          WARNING: responseData ? responseData.WARNING : null,\r\n          report_timestamp: responseData ? responseData.report_timestamp || helper.formatDateTime(responseData.time[responseData.time.length - 1]) : null\r\n        }\r\n      }\r\n\r\n      this.createChartData(data)\r\n\r\n      // if at least one source is live we are live\r\n      this.live = this.live || !data.WARNING\r\n\r\n      if (!this.updateTs) {\r\n        this.updateTs = data.report_timestamp\r\n      }\r\n      // get last report's TimeStamp\r\n      this.updateTs = [this.updateTs, data.report_timestamp].sort()[1] \r\n    },\r\n    \r\n    createChartData(data) {\r\n      let datasets = []\r\n      let datasetNr = 0\r\n\r\n      let dataTimes = helper.formatDateTimes(data.time)\r\n      let allLabels = this.chartData.labels.concat(dataTimes)\r\n      \r\n      data.equity.forEach(equity => {\r\n        // add new dates and sort it\r\n        let allData = []\r\n        // aggregate values for all dates\r\n        allLabels.forEach(label => {\r\n          let aggValue = this.nearestValue(label, this.chartData.labels, this.chartData.datasets[datasetNr].data)\r\n                          + this.nearestValue(label, dataTimes, equity)\r\n\r\n          // add to final data array\r\n          allData.push(aggValue)\r\n        })\r\n\r\n        if (Math.min(...allData) < this.chartMins[datasetNr]) {\r\n          this.chartMins[datasetNr] = Math.min(...allData)\r\n        }        \r\n        if (Math.max(...allData) > this.chartMaxes[datasetNr]) {\r\n          this.chartMaxes[datasetNr] = Math.max(...allData)\r\n        }\r\n        // to-do: fix extraOptions recomputation\r\n\r\n        let datasetSetting = JSON.parse(JSON.stringify(defaultDatasets))    // deep clone\r\n        let defColor = Object.values(config.colors)[datasetNr % Object.values(config.colors).length]      \r\n        datasetSetting.borderColor = defColor\r\n\r\n        if (this.highlights[0].points.length) {   // probably not possible to be only stop losses or trade exits\r\n          datasetSetting.pointBackgroundColor = context => {  // https://www.chartjs.org/docs/latest/general/options.html#scriptable-options\r\n            let label = new Date(allLabels[context.dataIndex]).getTime()            \r\n            let color = defColor\r\n\r\n            this.highlights.forEach(highlight => {\r\n              if (highlight.points.includes(label)) {\r\n                color = highlight.color\r\n              }\r\n            })\r\n            return color\r\n          }\r\n\r\n          datasetSetting.pointRadius = context => {\r\n            let label = new Date(allLabels[context.dataIndex]).getTime()\r\n            let radius = defaultPointRadius\r\n\r\n            this.highlights.forEach(highlight => {\r\n              if (highlight.points.includes(label)) {\r\n                radius = highlightPointRadius\r\n              }\r\n            })\r\n            return radius\r\n          }\r\n\r\n          datasetSetting.pointStyle = context => {\r\n            let label = new Date(allLabels[context.dataIndex]).getTime()\r\n            let style = defaultPointStyle\r\n\r\n            this.highlights.forEach(highlight => {\r\n              if (highlight.points.includes(label)) {\r\n                style = highlightPointStyle\r\n              }\r\n            })\r\n            return style\r\n          }\r\n        }\r\n        \r\n        datasetSetting.pointHoverBackgroundColor = defColor\r\n        \r\n        let dataset = {\r\n          ...datasetSetting,\r\n          data: allData\r\n        }\r\n        if (this.fill) {\r\n          dataset['backgroundColor'] = config.colors.primary\r\n        }\r\n        if (allData.length > 0 && this.dataFields.length > 1) {\r\n          dataset.label = this.dataFields[datasetNr++]\r\n        } \r\n\r\n        datasets.push(dataset)\r\n      })    \r\n      \r\n      this.chartData = {\r\n        datasets: datasets,\r\n        labels: allLabels\r\n      }       \r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.dataFields.forEach(_ => {\r\n      this.chartMins.push(Number.MAX_VALUE)\r\n      this.chartMaxes.push(0)\r\n    })    \r\n\r\n    this.initData();\r\n  }\r\n};\r\n</script>\r\n<style>\r\n</style>"]}]}