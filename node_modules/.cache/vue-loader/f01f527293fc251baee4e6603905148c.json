{"remainingRequest":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dufek/Documents/gitlab/frs-apps/src/custom/apps/research/patternLab/performanceResults/Chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dufek/Documents/gitlab/frs-apps/src/custom/apps/research/patternLab/performanceResults/Chart.vue","mtime":1587030366018},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dufek/Documents/gitlab/frs-apps/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGYW5jeUNoYXJ0IGZyb20gJ0AvY3VzdG9tL2NvbXBvbmVudHMvQ2hhcnRzL0ZhbmN5Q2hhcnQnOwppbXBvcnQgT2hsY0NoYXJ0IGZyb20gJ0AvY3VzdG9tL2NvbXBvbmVudHMvQ2hhcnRzL09obGNDaGFydCc7CgppbXBvcnQgY29uc3RhbnRzIGZyb20gJ0AvY3VzdG9tL2Fzc2V0cy9qcy9jb25zdGFudHMnOwppbXBvcnQgaGVscGVyIGZyb20gJ0AvY3VzdG9tL2Fzc2V0cy9qcy9oZWxwZXInOwoKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBGYW5jeUNoYXJ0LAogICAgICAgIE9obGNDaGFydAogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0b3JlS2V5OiAncmVzZWFyY2gucGF0dGVybkxhYi5iYWNrdGVzdFBhdHRlcm5zLnBlcmZvcm1hbmNlUmVzdWx0cy5jaGFydCcsCgogICAgICAgICAgICAvLyBhc3NldHMtcGF0dGVybnMtcGlja2VyCiAgICAgICAgICAgIGFzc2V0c1BhdHRlcm5zOiB7CiAgICAgICAgICAgICAgcmFuZ2U6ewogICAgICAgICAgICAgICAgZnJvbTogbnVsbCwKICAgICAgICAgICAgICAgIHRvOiBudWxsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjaGVja2VkQXNzZXRzOiBbXSwKICAgICAgICAgICAgICBjaGVja2VkUGF0dGVybnM6IFtdCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAgICAgICBub0RhdGFUZXh0OiAnJywKCiAgICAgICAgICAgIC8vIGRyb3Bkb3ducwogICAgICAgICAgICBiYWNrdGVzdHNOYW1lczogW10sCiAgICAgICAgICAgIHNlbGVjdGVkQmFja3Rlc3Q6IG51bGwsCiAgICAgICAgICAgIHNlbGVjdGVkQXNzZXQ6IG51bGwsICAgICAgICAgICAgCiAgICAgICAgICAgIGNoYXJ0VHlwZTogbnVsbCwKCiAgICAgICAgICAgIC8vIGNoYXJ0IGhpZ2hsaWdodHMKICAgICAgICAgICAgdHJhZGVzRW50cmllczogW10sCiAgICAgICAgICAgIHRyYWRlc1N0b3BMb3NzZXM6IFtdLAogICAgICAgICAgICB0cmFkZXNFeGl0czogW10sCgogICAgICAgICAgICAvLyBjaGFydAogICAgICAgICAgICBjaGFydFVybDogbnVsbCwKICAgICAgICAgICAgaGlzdG9yeUNoYXJ0S2V5OiAwLAogICAgICAgICAgICBzdGF0c0NoYXJ0S2V5OiAwCiAgICAgICAgfQogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICBvaGxjQ2hhcnRUaXRsZSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQXNzZXQgPyB0aGlzLnNlbGVjdGVkQXNzZXQuc3ltYm9sIDogJycKICAgICAgfSwKICAgICAgYnROYW1lc0ZpbHRlcmVkKCkgewogICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQmFja3Rlc3QgPyB0aGlzLmJhY2t0ZXN0c05hbWVzLmZpbHRlcihidCA9PiBidC5pZCAhPT0gdGhpcy5zZWxlY3RlZEJhY2t0ZXN0LmlkKSA6IHRoaXMuYmFja3Rlc3RzTmFtZXMKICAgICAgfSwKCiAgICAgIHN0YXRzQ2hhcnRVcmwoKSB7CiAgICAgICAgcmV0dXJuICF0aGlzLmxvYWRpbmcgPyBbIGNvbnN0YW50cy51cmxzLnBhdHRlcm5MYWIuYmFja3Rlc3RQYXR0ZXJucy5yZXN1bHRzIF0gOiBbXQogICAgICB9LAoKICAgICAgbGVnZW5kKCkgewogICAgICAgIHJldHVybiB0aGlzLnRyYWRlc0VudHJpZXMubGVuZ3RoIHx8IHRoaXMudHJhZGVzU3RvcExvc3Nlcy5sZW5ndGggfHwgdGhpcy50cmFkZXNFeGl0cy5sZW5ndGggPyBgPHNwYW4gc3R5bGU9ImNvbG9yOiR7Y29uc3RhbnRzLmNvbG9ycy50cmFkZUVudHJ5fSI+JiM5NjUwOzwvc3Bhbj4gJHt0aGlzLiR0KHRoaXMuc3RvcmVLZXkgKyAnLnRyYWRlRW50cnknKX08YnIvPjxzcGFuIHN0eWxlPSJjb2xvcjoke2NvbnN0YW50cy5jb2xvcnMudHJhZGVTdG9wTG9zc30iPiYjOTY1MDs8L3NwYW4+ICR7dGhpcy4kdCh0aGlzLnN0b3JlS2V5ICsgJy50cmFkZVN0b3BMb3NzJyl9PGJyLz48c3BhbiBzdHlsZT0iY29sb3I6JHtjb25zdGFudHMuY29sb3JzLnRyYWRlRXhpdH0iPiYjOTY1MDs8L3NwYW4+ICR7dGhpcy4kdCh0aGlzLnN0b3JlS2V5ICsgJy50cmFkZUV4aXQnKX1gIDogbnVsbAogICAgICB9LAoKICAgICAgaGlnaGxpZ2h0cygpIHsKICAgICAgICByZXR1cm4gW3sKICAgICAgICAgIHBvaW50czogdGhpcy50cmFkZXNFbnRyaWVzLAogICAgICAgICAgY29sb3I6IGNvbnN0YW50cy5jb2xvcnMudHJhZGVFbnRyeSAKICAgICAgICB9LCAKICAgICAgICB7IAogICAgICAgICAgcG9pbnRzOiB0aGlzLnRyYWRlc1N0b3BMb3NzZXMsIAogICAgICAgICAgY29sb3I6IGNvbnN0YW50cy5jb2xvcnMudHJhZGVTdG9wTG9zcyAKICAgICAgICB9LCAKICAgICAgICB7IAogICAgICAgICAgcG9pbnRzOiB0aGlzLnRyYWRlc0V4aXRzLCAKICAgICAgICAgIGNvbG9yOiBjb25zdGFudHMuY29sb3JzLnRyYWRlRXhpdCAKICAgICAgICB9XQogICAgICB9CiAgICB9LAogICAgCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdERhdGEoKSB7CiAgICAgICAgICAgIGxldCBkYXRhID0gaGVscGVyLmdldEFzc2V0c1BhdHRlcm5zUGlja2VyRGF0YSh0aGlzLiRzdG9yZSkKICAgICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgICB0aGlzLmFzc2V0c1BhdHRlcm5zID0gZGF0YQogICAgICAgICAgICB9CgogICAgICAgICAgICAoeyBiYWNrdGVzdHNOYW1lczp0aGlzLmJhY2t0ZXN0c05hbWVzLCBsb2FkaW5nOnRoaXMubG9hZGluZywgc2VsZWN0ZWRCYWNrdGVzdDp0aGlzLnNlbGVjdGVkQmFja3Rlc3QsIHVwZGF0ZUtleTp0aGlzLnN0YXRzQ2hhcnRLZXkgfSA9IGhlbHBlci5nZXRCYWNrdGVzdHNOYW1lcyh0aGlzLiRzdG9yZSwgdGhpcy5zdG9yZUtleSwgdGhpcy5zdGF0c0NoYXJ0S2V5KSkKICAgICAgICAgICAgdGhpcy5pbml0RHJvcERvd25zKCkKICAgICAgICAgICAgdGhpcy5sb2FkQ2hhcnQoKQogICAgICAgIH0sICAgICAgICAKCiAgICAgICAgaW5pdERyb3BEb3ducygpIHsKICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLiRzdG9yZS5nZXRJdGVtKHRoaXMuc3RvcmVLZXkpCiAgICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgICAgKHsgc2VsZWN0ZWRBc3NldDp0aGlzLnNlbGVjdGVkQXNzZXQgfSA9IGRhdGEpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jaGFydFR5cGUgPSB0aGlzLiR0KCdyZXNlYXJjaC5wYXR0ZXJuTGFiLmNoYXJ0VHlwZXMnKVtkYXRhID8gZGF0YS5jaGFydFR5cGUgOiAwXQoKICAgICAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkQXNzZXQgJiYgdGhpcy5hc3NldHNQYXR0ZXJucy5jaGVja2VkQXNzZXRzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFzc2V0ID0gdGhpcy5hc3NldHNQYXR0ZXJucy5jaGVja2VkQXNzZXRzWzBdCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBsb2FkQ2hhcnQocmVsb2FkSGlzdG9yeT10cnVlKSB7CiAgICAgICAgICAgIHRoaXMuY2hhcnRVcmwgPSBudWxsCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXNzZXQpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hhcnRVcmwgPSBoZWxwZXIuZ2V0UGF0dGVybkxhYkNoYXJ0VXJsKHRoaXMuc2VsZWN0ZWRBc3NldCwgdGhpcy5hc3NldHNQYXR0ZXJucy50aW1lZnJhbWUsIHRoaXMuYXNzZXRzUGF0dGVybnMucmFuZ2UpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGZvcmNlIHJlbG9hZCBvZiBjaGFydCBjb21wb25lbnRzIAogICAgICAgICAgICBpZiAocmVsb2FkSGlzdG9yeSkgewogICAgICAgICAgICAgIHRoaXMuaGlzdG9yeUNoYXJ0S2V5KysKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHNlbGVjdEFzc2V0KGFzc2V0KSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBc3NldCA9IGFzc2V0CiAgICAgICAgICAgIHRoaXMubG9hZENoYXJ0KCkKICAgICAgICB9LAogICAgICAgIHNlbGVjdEJhY2t0ZXN0KGJ0KSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRCYWNrdGVzdCA9IGJ0CiAgICAgICAgICAgIHRoaXMuc3RhdHNDaGFydEtleSsrCiAgICAgICAgICAgIHRoaXMubG9hZENoYXJ0KCkKICAgICAgICB9LAogICAgICAgIHNlbGVjdENoYXJ0VHlwZShjaGFydFR5cGUpIHsKICAgICAgICAgICAgdGhpcy5jaGFydFR5cGUgPSBjaGFydFR5cGUKICAgICAgICAgICAgdGhpcy5sb2FkQ2hhcnQoKQogICAgICAgIH0sCgogICAgICAgIHByb2ZpdERhdGFDcmVhdG9yKHJlc3BvbnNlRGF0YSkgewogICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZURhdGEuZmlsdGVyKGQgPT4gZC5pZCA9PT0gdGhpcy5zZWxlY3RlZEJhY2t0ZXN0LmlkKQogICAgICAgICAgaWYgKGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgIGxldCBkYXR1bSA9IGRhdGFbMF0KCiAgICAgICAgICAgIHRoaXMubm9EYXRhVGV4dCA9IG51bGwKICAgICAgICAgICAgdGhpcy50cmFkZXNFbnRyaWVzID0gW10KICAgICAgICAgICAgdGhpcy50cmFkZXNTdG9wTG9zc2VzID0gW10KICAgICAgICAgICAgdGhpcy50cmFkZXNFeGl0cyA9IFtdCiAgICAgICAgICAgIGxldCBiYXNlID0gaGVscGVyLmdldEJhY2t0ZXN0UGF0dGVybnNUYWJsZUJhc2UoZGF0dW0sIHRoaXMuJHN0b3JlLCB0aGlzLiR0KGNvbnN0YW50cy50cmFuc2xhdGlvbktleXMucGF0dGVybnMgKyAnLmNvbHVtbnMnKSkKICAgICAgICAgICAgaWYgKGRhdHVtLmVycm9yKSB7ICAgICAgICAgICAgICAKICAgICAgICAgICAgICB0aGlzLm5vRGF0YVRleHQgPSBgJHt0aGlzLiR0KHRoaXMuc3RvcmVLZXkgKyAnLnByb2JsZW1zUHJlZml4Jyl9ICcke2Jhc2UubmFtZX0nICR7dGhpcy4kdCh0aGlzLnN0b3JlS2V5ICsgJy5wcm9ibGVtc1N1ZmZpeCcpfSAke2RhdHVtLm1zZ31gCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKGJhc2Uuc3ltYm9sID09PSB0aGlzLnNlbGVjdGVkQXNzZXQuc3ltYm9sKSB7CiAgICAgICAgICAgICAgICB0aGlzLnRyYWRlc0VudHJpZXMgPSBPYmplY3QudmFsdWVzKGRhdHVtLm91dHB1dC50cmFkZXMuc3RhcnQpCiAgICAgICAgICAgICAgICB0aGlzLnRyYWRlc1N0b3BMb3NzZXMgPSBkYXR1bS5zdG9wX2xvc3NfdW5pdCA9PT0gY29uc3RhbnRzLmRlZmF1bHRVbml0ID8gWyBkYXR1bS5zdG9wX2xvc3NfdmFsdWUgXSA6IFtdICAgLy8gdGVtcG9yYXJ5IHVudGlsIEJFIGRvZXNuJ3QgcmV0dXJuIHN0b3BfbG9zc192YWx1ZSBmb3IgJSAhISEKICAgICAgICAgICAgICAgIHRoaXMudHJhZGVzRXhpdHMgPSBPYmplY3QudmFsdWVzKGRhdHVtLm91dHB1dC50cmFkZXMuZmluaXNoKQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpbWU6IE9iamVjdC52YWx1ZXMoZGF0dW0ub3V0cHV0LnRyYWRlcy5maW5pc2gpLAogICAgICAgICAgICAgICAgZXF1aXR5OiBPYmplY3QudmFsdWVzKGRhdHVtLm91dHB1dC5zdGF0cy5wbmxfY3VtKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8gb3RoZXJ3aXNlIGxldCBleGNlcHRpb24gaGFwcGVuLCBpZS4gaXQncyBzZXJ2ZXIgZXJyb3IKICAgICAgICB9LAogICAgICAgIGRyYXdkb3duRGF0YUNyZWF0b3IocmVzcG9uc2VEYXRhKSB7CiAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlRGF0YS5maWx0ZXIoZCA9PiBkLmlkID09PSB0aGlzLnNlbGVjdGVkQmFja3Rlc3QuaWQpCiAgICAgICAgICBpZiAoZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgbGV0IGRhdHVtID0gZGF0YVswXQoKICAgICAgICAgICAgdGhpcy5ub0RhdGFUZXh0ID0gbnVsbAogICAgICAgICAgICBpZiAoZGF0dW0uZXJyb3IpIHsKICAgICAgICAgICAgICBsZXQgYnROYW1lID0gaGVscGVyLmdldEJhY2t0ZXN0UGF0dGVybnNUYWJsZUJhc2UoZGF0dW0sIHRoaXMuJHN0b3JlLCB0aGlzLiR0KGNvbnN0YW50cy50cmFuc2xhdGlvbktleXMucGF0dGVybnMgKyAnLmNvbHVtbnMnKSkubmFtZQogICAgICAgICAgICAgIHRoaXMubm9EYXRhVGV4dCA9IGAke3RoaXMuJHQodGhpcy5zdG9yZUtleSArICcucHJvYmxlbXNQcmVmaXgnKX0gJyR7YnROYW1lfScgJHt0aGlzLiR0KHRoaXMuc3RvcmVLZXkgKyAnLnByb2JsZW1zU3VmZml4Jyl9ICR7ZGF0dW0ubXNnfWAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgdGltZTogT2JqZWN0LnZhbHVlcyhkYXR1bS5vdXRwdXQudHJhZGVzLmZpbmlzaCksCiAgICAgICAgICAgICAgICBlcXVpdHk6IE9iamVjdC52YWx1ZXMoZGF0dW0ub3V0cHV0LnN0YXRzWyJEcmF3ZG93biBVbmRlcndhdGVyIHBsb3QiXSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIC8vIG90aGVyd2lzZSBsZXQgZXhjZXB0aW9uIGhhcHBlbiwgaWUuIGl0J3Mgc2VydmVyIGVycm9yCiAgICAgICAgfQogICAgfSwKCiAgICB3YXRjaDogewogICAgICBzZWxlY3RlZEFzc2V0KHZhbCkgeyAgICAgICAgCiAgICAgICAgaGVscGVyLnVwZGF0ZVN0b3JlKHRoaXMuJHN0b3JlLCAnc2VsZWN0ZWRBc3NldCcsIHZhbCwgdGhpcy5zdG9yZUtleSkKICAgICAgfSwKICAgICAgc2VsZWN0ZWRCYWNrdGVzdCh2YWwpIHsgICAgICAgIAogICAgICAgIGhlbHBlci51cGRhdGVTdG9yZSh0aGlzLiRzdG9yZSwgJ3NlbGVjdGVkQmFja3Rlc3QnLCB2YWwsIHRoaXMuc3RvcmVLZXkpCiAgICAgIH0sCiAgICAgIGNoYXJ0VHlwZSh2YWwpIHsgICAgICAgIAogICAgICAgIGhlbHBlci51cGRhdGVTdG9yZSh0aGlzLiRzdG9yZSwgJ2NoYXJ0VHlwZScsIHRoaXMuJHQoJ3Jlc2VhcmNoLnBhdHRlcm5MYWIuY2hhcnRUeXBlcycpLmluZGV4T2YodmFsKSwgdGhpcy5zdG9yZUtleSkKICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuaW5pdERhdGEoKQogICAgfQp9Cg=="},{"version":3,"sources":["Chart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Chart.vue","sourceRoot":"src/custom/apps/research/patternLab/performanceResults","sourcesContent":["<template>\n    <div>\n        <!-- dropdowns -->\n        <div style=\"position: relative; left: 10px; z-index: 1\">\n          <base-dropdown class=\"dd\" \n                         menu-classes=\"dropdown-black\" \n                         title-classes=\"btn btn-secondary\"\n                         :title=\"selectedAsset ? selectedAsset.symbol : null\"\n                         style=\"width: 17%\">\n            <ul style=\"list-style-type: none;\">\n              <li v-for=\"asset in assetsPatterns.checkedAssets.filter(a => a.id !== selectedAsset.id)\" :key=\"asset.id\">            \n                <a class=\"dropdown-item\" \n                   @click=\"selectAsset(asset)\" \n                   href=\"#\">\n                  {{ asset.symbol }}\n                </a>\n              </li>\n            </ul>\n          </base-dropdown>\n        </div>\n\n        <div style=\"position: relative; z-index: 1\">\n          <base-dropdown class=\"dd\" \n                         menu-classes=\"dropdown-black\" \n                         title-classes=\"btn btn-secondary\"\n                         :title=\"selectedBacktest ? selectedBacktest.name : null\"\n                         style=\"width: 20%\">\n            <ul style=\"list-style-type: none;\">\n              <li v-for=\"bt in btNamesFiltered\" :key=\"bt.id\">            \n                <a class=\"dropdown-item\" \n                   @click=\"selectBacktest(bt)\" \n                   href=\"#\">\n                  {{ bt.name }}\n                </a>\n              </li>\n            </ul>\n          </base-dropdown>          \n        </div>\n\n        <div style=\"position: relative; z-index: 1\">\n          <base-dropdown class=\"dd\" \n                         menu-classes=\"dropdown-black\" \n                         title-classes=\"btn btn-secondary\"\n                         :title=\"chartType\">\n            <ul style=\"list-style-type: none;\">\n              <li v-for=\"(chartType, key) in $t('research.patternLab.chartTypes').filter(el => el !== chartType)\" :key=\"key\">            \n                <a class=\"dropdown-item\" \n                   @click=\"selectChartType(chartType)\" \n                   href=\"#\">\n                  {{ chartType }}\n                </a>\n              </li>\n            </ul>\n          </base-dropdown>          \n        </div>\n\n        <!-- trades chart -->\n        <fancy-chart v-if=\"chartType === $t('research.patternLab.chartTypes')[0]\"\n                    :title=\"$t('sidebar.patternLab') + ' ' + this.$t('research.patternLab.backtestPatterns.title') + ' ' + $t(storeKey + '.title')\"\n                    :legend=\"legend\"\n                    :apiUrls=\"chartUrl ? [ chartUrl ] : []\"\n                    style=\"height: 100%\"\n                    :highlights=\"highlights\"\n                    :responsive=\"true\"                     \n                    :key=\"historyChartKey\" />\n        <ohlc-chart v-else \n                    :title=\"ohlcChartTitle\"\n                    :apiUrl=\"chartUrl\" \n                    :type=\"chartType\"\n                    :highlights=\"highlights\"\n                    style=\"height: 830px\" \n                    :key=\"historyChartKey\" />\n\n        <!-- cumulated profit chart -->\n        <fancy-chart :title=\"$t('sidebar.patternLab') + ' ' + this.$t('research.patternLab.backtestPatterns.title') + ' ' + $t(storeKey + '.title') + ' ' + $t(storeKey + '.cumulatedProfit')\"\n                     :apiUrls=\"statsChartUrl\"\n                     :dataCreator=\"profitDataCreator\"\n                     :noDataText=\"noDataText\"\n                     :axesLabels=\"[ $t(storeKey + '.xLabel'), $t(storeKey + '.cumulatedProfit') ]\"\n                     :responsive=\"true\"                     \n                     :key=\"statsChartKey\" />\n\n        <!-- drawdown chart -->\n        <fancy-chart :title=\"$t('sidebar.patternLab') + ' ' + this.$t('research.patternLab.backtestPatterns.title') + ' ' + $t(storeKey + '.title') + ' ' + $t(storeKey + '.drawdown')\"\n                     :apiUrls=\"statsChartUrl\"    \n                     :dataCreator=\"drawdownDataCreator\"\n                     :noDataText=\"noDataText\"\n                     :axesLabels=\"[ $t(storeKey + '.xLabel'), $t(storeKey + '.drawdown') ]\"\n                     :fill=\"true\"\n                     :responsive=\"true\"                    \n                     :key=\"statsChartKey\" />\n    </div>    \n</template>\n<script>\nimport FancyChart from '@/custom/components/Charts/FancyChart';\nimport OhlcChart from '@/custom/components/Charts/OhlcChart';\n\nimport constants from '@/custom/assets/js/constants';\nimport helper from '@/custom/assets/js/helper';\n\n\nexport default {\n    components: {\n        FancyChart,\n        OhlcChart\n    },\n\n    data() {\n        return {\n            storeKey: 'research.patternLab.backtestPatterns.performanceResults.chart',\n\n            // assets-patterns-picker\n            assetsPatterns: {\n              range:{\n                from: null,\n                to: null\n              },\n              checkedAssets: [],\n              checkedPatterns: []\n            },\n\n            loading: true,\n            noDataText: '',\n\n            // dropdowns\n            backtestsNames: [],\n            selectedBacktest: null,\n            selectedAsset: null,            \n            chartType: null,\n\n            // chart highlights\n            tradesEntries: [],\n            tradesStopLosses: [],\n            tradesExits: [],\n\n            // chart\n            chartUrl: null,\n            historyChartKey: 0,\n            statsChartKey: 0\n        }\n    },\n\n    computed: {\n      ohlcChartTitle() {\n          return this.selectedAsset ? this.selectedAsset.symbol : ''\n      },\n      btNamesFiltered() {\n        return this.selectedBacktest ? this.backtestsNames.filter(bt => bt.id !== this.selectedBacktest.id) : this.backtestsNames\n      },\n\n      statsChartUrl() {\n        return !this.loading ? [ constants.urls.patternLab.backtestPatterns.results ] : []\n      },\n\n      legend() {\n        return this.tradesEntries.length || this.tradesStopLosses.length || this.tradesExits.length ? `<span style=\"color:${constants.colors.tradeEntry}\">&#9650;</span> ${this.$t(this.storeKey + '.tradeEntry')}<br/><span style=\"color:${constants.colors.tradeStopLoss}\">&#9650;</span> ${this.$t(this.storeKey + '.tradeStopLoss')}<br/><span style=\"color:${constants.colors.tradeExit}\">&#9650;</span> ${this.$t(this.storeKey + '.tradeExit')}` : null\n      },\n\n      highlights() {\n        return [{\n          points: this.tradesEntries,\n          color: constants.colors.tradeEntry \n        }, \n        { \n          points: this.tradesStopLosses, \n          color: constants.colors.tradeStopLoss \n        }, \n        { \n          points: this.tradesExits, \n          color: constants.colors.tradeExit \n        }]\n      }\n    },\n    \n    methods: {\n        initData() {\n            let data = helper.getAssetsPatternsPickerData(this.$store)\n            if (data) {\n              this.assetsPatterns = data\n            }\n\n            ({ backtestsNames:this.backtestsNames, loading:this.loading, selectedBacktest:this.selectedBacktest, updateKey:this.statsChartKey } = helper.getBacktestsNames(this.$store, this.storeKey, this.statsChartKey))\n            this.initDropDowns()\n            this.loadChart()\n        },        \n\n        initDropDowns() {\n            let data = this.$store.getItem(this.storeKey)\n            if (data) {\n              ({ selectedAsset:this.selectedAsset } = data)\n            }\n            this.chartType = this.$t('research.patternLab.chartTypes')[data ? data.chartType : 0]\n\n            if (!this.selectedAsset && this.assetsPatterns.checkedAssets.length) {\n                this.selectedAsset = this.assetsPatterns.checkedAssets[0]\n            }\n        },\n\n        loadChart(reloadHistory=true) {\n            this.chartUrl = null\n            if (this.selectedAsset) {\n                this.chartUrl = helper.getPatternLabChartUrl(this.selectedAsset, this.assetsPatterns.timeframe, this.assetsPatterns.range)\n            }\n\n            // force reload of chart components \n            if (reloadHistory) {\n              this.historyChartKey++\n            }\n        },\n\n        selectAsset(asset) {\n            this.selectedAsset = asset\n            this.loadChart()\n        },\n        selectBacktest(bt) {\n            this.selectedBacktest = bt\n            this.statsChartKey++\n            this.loadChart()\n        },\n        selectChartType(chartType) {\n            this.chartType = chartType\n            this.loadChart()\n        },\n\n        profitDataCreator(responseData) {\n          let data = responseData.filter(d => d.id === this.selectedBacktest.id)\n          if (data.length) {\n            let datum = data[0]\n\n            this.noDataText = null\n            this.tradesEntries = []\n            this.tradesStopLosses = []\n            this.tradesExits = []\n            let base = helper.getBacktestPatternsTableBase(datum, this.$store, this.$t(constants.translationKeys.patterns + '.columns'))\n            if (datum.error) {              \n              this.noDataText = `${this.$t(this.storeKey + '.problemsPrefix')} '${base.name}' ${this.$t(this.storeKey + '.problemsSuffix')} ${datum.msg}`\n            } else {\n              if (base.symbol === this.selectedAsset.symbol) {\n                this.tradesEntries = Object.values(datum.output.trades.start)\n                this.tradesStopLosses = datum.stop_loss_unit === constants.defaultUnit ? [ datum.stop_loss_value ] : []   // temporary until BE doesn't return stop_loss_value for % !!!\n                this.tradesExits = Object.values(datum.output.trades.finish)\n              }\n\n              return {\n                time: Object.values(datum.output.trades.finish),\n                equity: Object.values(datum.output.stats.pnl_cum)\n              }\n            }\n          }\n          // otherwise let exception happen, ie. it's server error\n        },\n        drawdownDataCreator(responseData) {\n          let data = responseData.filter(d => d.id === this.selectedBacktest.id)\n          if (data.length) {\n            let datum = data[0]\n\n            this.noDataText = null\n            if (datum.error) {\n              let btName = helper.getBacktestPatternsTableBase(datum, this.$store, this.$t(constants.translationKeys.patterns + '.columns')).name\n              this.noDataText = `${this.$t(this.storeKey + '.problemsPrefix')} '${btName}' ${this.$t(this.storeKey + '.problemsSuffix')} ${datum.msg}`\n            } else {\n              return {\n                time: Object.values(datum.output.trades.finish),\n                equity: Object.values(datum.output.stats[\"Drawdown Underwater plot\"])\n              }\n            }\n          }\n          // otherwise let exception happen, ie. it's server error\n        }\n    },\n\n    watch: {\n      selectedAsset(val) {        \n        helper.updateStore(this.$store, 'selectedAsset', val, this.storeKey)\n      },\n      selectedBacktest(val) {        \n        helper.updateStore(this.$store, 'selectedBacktest', val, this.storeKey)\n      },\n      chartType(val) {        \n        helper.updateStore(this.$store, 'chartType', this.$t('research.patternLab.chartTypes').indexOf(val), this.storeKey)\n      }\n    },\n\n    mounted() {\n        this.initData()\n    }\n}\n</script>\n<style scoped>\n\n</style>"]}]}